{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,0KAAmB;AAEjC,MAAM,eAAe,6KAAsB;AAE3C,MAAM,aAAa,2KAAoB;AAEvC,MAAM,cAAc,4KAAqB;AAEzC,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAsB;QACrB,WAAW,IAAA,yHAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,aAAa,WAAW,GAAG,6KAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,IAAA,uKAAG,EACvB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAsB;gBACrB,KAAK;gBACL,WAAW,IAAA,yHAAE,EAAC,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,6KAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG,2KAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,iLAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,kLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,8OAAC,sLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,8OAAC;;;;;0BACD,8OAAC,oLAA0B;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,kLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC,iMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,yHAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6LAAmC;YAAC,WAAU;;;;;;;;;;;AAGnD,UAAU,WAAW,GAAG,iMAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 387, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/firebase/firestore/chat.ts"],"sourcesContent":["'use client';\nimport {\n  collection,\n  addDoc,\n  serverTimestamp,\n  writeBatch,\n  getDocs,\n  query,\n  Firestore,\n} from 'firebase/firestore';\n\nexport const saveChatMessage = async (\n  firestore: Firestore,\n  userId: string,\n  noteId: string,\n  role: 'user' | 'assistant',\n  content: string,\n  imageUrl?: string\n) => {\n  const messagesRef = collection(firestore, `users/${userId}/noteChats/${noteId}/messages`);\n  const messageData: any = {\n    role,\n    content,\n    timestamp: serverTimestamp(),\n  };\n\n  if (imageUrl) {\n    messageData.imageUrl = imageUrl;\n  }\n\n  await addDoc(messagesRef, messageData);\n};\n\nexport const clearChatHistory = async (firestore: Firestore, userId: string, noteId: string) => {\n    const messagesRef = collection(firestore, `users/${userId}/noteChats/${noteId}/messages`);\n    const q = query(messagesRef);\n    const querySnapshot = await getDocs(q);\n    \n    if (querySnapshot.empty) {\n        return;\n    }\n\n    const batch = writeBatch(firestore);\n    querySnapshot.forEach(doc => {\n        batch.delete(doc.ref);\n    });\n\n    await batch.commit();\n}"],"names":[],"mappings":";;;;;;AACA;AAAA;AADA;;AAWO,MAAM,kBAAkB,OAC7B,WACA,QACA,QACA,MACA,SACA;IAEA,MAAM,cAAc,IAAA,+KAAU,EAAC,WAAW,CAAC,MAAM,EAAE,OAAO,WAAW,EAAE,OAAO,SAAS,CAAC;IACxF,MAAM,cAAmB;QACvB;QACA;QACA,WAAW,IAAA,oLAAe;IAC5B;IAEA,IAAI,UAAU;QACZ,YAAY,QAAQ,GAAG;IACzB;IAEA,MAAM,IAAA,2KAAM,EAAC,aAAa;AAC5B;AAEO,MAAM,mBAAmB,OAAO,WAAsB,QAAgB;IACzE,MAAM,cAAc,IAAA,+KAAU,EAAC,WAAW,CAAC,MAAM,EAAE,OAAO,WAAW,EAAE,OAAO,SAAS,CAAC;IACxF,MAAM,IAAI,IAAA,0KAAK,EAAC;IAChB,MAAM,gBAAgB,MAAM,IAAA,4KAAO,EAAC;IAEpC,IAAI,cAAc,KAAK,EAAE;QACrB;IACJ;IAEA,MAAM,QAAQ,IAAA,+KAAU,EAAC;IACzB,cAAc,OAAO,CAAC,CAAA;QAClB,MAAM,MAAM,CAAC,IAAI,GAAG;IACxB;IAEA,MAAM,MAAM,MAAM;AACtB","debugId":null}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,yHAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,IAAA,oJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,IAAA,oJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 647, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/progress.tsx"],"sourcesContent":["'use client';\n\nimport * as React from 'react';\nimport * as ProgressPrimitive from '@radix-ui/react-progress';\n\nimport { cn } from '@/lib/utils';\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      'relative h-4 w-full overflow-hidden rounded-full bg-secondary',\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n));\nProgress.displayName = ProgressPrimitive.Root.displayName;\n\nexport { Progress };\n\n    "],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/dashboard/image-upload-card.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { Card, CardContent, CardFooter } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Loader2, Send, CheckCircle, AlertTriangle, File, Copy, X } from 'lucide-react';\nimport { Progress } from '../ui/progress';\nimport { useToast } from '@/hooks/use-toast';\n\nexport interface ImageUpload {\n    id: string;\n    file: File;\n    status: 'compressing' | 'uploading' | 'complete' | 'error';\n    progress?: number;\n    downloadURL?: string;\n    error?: string;\n}\n\ninterface ImageUploadCardProps {\n    upload: ImageUpload;\n    onInstructionSubmit: (instruction: string) => void;\n    onCancel: () => void;\n}\n\nexport default function ImageUploadCard({ upload, onInstructionSubmit, onCancel }: ImageUploadCardProps) {\n    const [instruction, setInstruction] = React.useState('');\n    const { toast } = useToast();\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!instruction.trim()) return;\n        onInstructionSubmit(instruction);\n    };\n\n    const copyToClipboard = (text: string) => {\n        navigator.clipboard.writeText(text);\n        toast({ title: \"Copied to clipboard!\" });\n    };\n\n    const formatBytes = (bytes: number, decimals = 2) => {\n        if (bytes === 0) return '0 Bytes';\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n    \n    const isProcessing = upload.status === 'compressing' || upload.status === 'uploading';\n\n    return (\n        <Card className=\"w-full max-w-sm bg-gray-800 border-gray-700 text-white\">\n            <CardContent className=\"p-4\">\n                <div className=\"flex items-center gap-3 mb-3\">\n                    <div className=\"flex-shrink-0\">\n                        {upload.status === 'compressing' && <Loader2 className=\"h-6 w-6 animate-spin text-blue-400\" />}\n                        {upload.status === 'uploading' && <Loader2 className=\"h-6 w-6 animate-spin text-blue-400\" />}\n                        {upload.status === 'complete' && <CheckCircle className=\"h-6 w-6 text-green-400\" />}\n                        {upload.status === 'error' && <AlertTriangle className=\"h-6 w-6 text-red-400\" />}\n                        {!isProcessing && upload.status !== 'complete' && upload.status !== 'error' && <File className=\"h-6 w-6 text-gray-400\" />}\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium truncate\">{upload.file.name}</p>\n                        <p className=\"text-xs text-gray-400\">{formatBytes(upload.file.size)}</p>\n                    </div>\n                     <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 text-gray-400 hover:bg-gray-700 hover:text-white\" onClick={onCancel}>\n                        <X className=\"h-4 w-4\" />\n                     </Button>\n                </div>\n\n                {isProcessing && (\n                    <div className=\"space-y-1\">\n                        <p className=\"text-xs text-blue-300 capitalize\">{upload.status}...</p>\n                        <Progress value={upload.progress} className=\"h-1 bg-gray-600\" />\n                    </div>\n                )}\n                 {upload.status === 'error' && (\n                    <p className=\"text-sm text-red-400\">{upload.error}</p>\n                 )}\n            </CardContent>\n            <CardFooter className=\"p-4 pt-0\">\n                 {upload.status === 'complete' ? (\n                     <form onSubmit={handleSubmit} className=\"w-full flex items-center gap-2\">\n                        <Input\n                            value={instruction}\n                            onChange={(e) => setInstruction(e.target.value)}\n                            placeholder=\"Ask anything...\"\n                            className=\"bg-gray-700 border-gray-600 focus:ring-blue-500\"\n                        />\n                        <Button type=\"submit\" size=\"icon\" className=\"h-10 w-10 flex-shrink-0 bg-blue-600 hover:bg-blue-700\">\n                            <Send className=\"h-4 w-4\" />\n                        </Button>\n                    </form>\n                 ) : (\n                    <Input\n                        placeholder=\"Ask anything...\"\n                        disabled\n                        className=\"bg-gray-900 border-gray-700 cursor-not-allowed\"\n                    />\n                 )}\n            </CardFooter>\n             {upload.downloadURL && (\n                <div className=\"px-4 pb-4\">\n                    <p className=\"text-xs text-gray-400 mb-1\">Image URL:</p>\n                    <div className=\"flex items-center gap-2\">\n                         <Input\n                            readOnly\n                            value={upload.downloadURL}\n                            className=\"bg-gray-700 border-gray-600 text-xs h-8\"\n                        />\n                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 flex-shrink-0 text-gray-400 hover:bg-gray-700 hover:text-white\" onClick={() => copyToClipboard(upload.downloadURL!)}>\n                            <Copy className=\"h-4 w-4\" />\n                        </Button>\n                    </div>\n                </div>\n            )}\n        </Card>\n    );\n}\n\n    "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 998, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/firebase/storage.ts"],"sourcesContent":["'use client';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL, UploadTask } from 'firebase/storage';\nimport { getApp } from 'firebase/app';\n\nexport type UploadProgress = number;\n\nexport async function uploadToFirebase(\n    userId: string,\n    noteId: string,\n    file: File,\n    onProgress: (progress: UploadProgress) => void\n): Promise<string> {\n    const app = getApp();\n    const storage = getStorage(app);\n    const timestamp = new Date().getTime();\n    const storagePath = `users/${userId}/noteImages/${noteId}/${timestamp}_${file.name}`;\n    const storageRef = ref(storage, storagePath);\n\n    return new Promise((resolve, reject) => {\n        const uploadTask: UploadTask = uploadBytesResumable(storageRef, file);\n\n        uploadTask.on('state_changed',\n            (snapshot) => {\n                const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                onProgress(progress);\n            },\n            (error) => {\n                console.error(\"Upload failed:\", error);\n                reject(error);\n            },\n            async () => {\n                try {\n                    const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);\n                    resolve(downloadURL);\n                } catch (error) {\n                    reject(error);\n                }\n            }\n        );\n    });\n}\n\nfunction toBase64(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n            // result is \"data:image/jpeg;base64,LzlqLzRBQ...\"\"\n            // we only want the part after the comma\n            if (typeof reader.result !== 'string') {\n                return reject('FileReader did not return a string');\n            }\n            resolve(reader.result.substring(reader.result.indexOf(',') + 1));\n        };\n        reader.onerror = reject;\n    });\n}\n\nexport async function uploadToImgBB(\n    file: File,\n    onProgress: (progress: UploadProgress) => void\n): Promise<string> {\n    const apiKey = process.env.NEXT_PUBLIC_IMGBB_API_KEY;\n    if(!apiKey) {\n        throw new Error(\"ImgBB API key is not configured. Please set NEXT_PUBLIC_IMGBB_API_KEY environment variable.\");\n    }\n    \n    // ImgBB free tier has a 32MB limit. We can check here.\n    if (file.size > 32 * 1024 * 1024) {\n        throw new Error(\"File is too large for ImgBB's free tier (max 32MB).\");\n    }\n\n    onProgress(50); // Simulate progress\n    const base64string = await toBase64(file);\n    \n    const formData = new FormData();\n    formData.append('image', base64string);\n\n    const response = await fetch(`https://api.imgbb.com/1/upload?key=${apiKey}`, {\n        method: 'POST',\n        body: formData,\n    });\n    \n    onProgress(100);\n\n    if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`ImgBB upload failed: ${errorData?.error?.message || response.statusText}`);\n    }\n\n    const result = await response.json();\n\n    if (!result.data || !result.data.url) {\n        throw new Error('ImgBB response did not contain a direct image URL.');\n    }\n\n    // Use `result.data.url` which is the direct link to the image.\n    return result.data.url;\n}\n"],"names":[],"mappings":";;;;;;AACA;AAAA;AACA;AAAA;AAFA;;;AAMO,eAAe,iBAClB,MAAc,EACd,MAAc,EACd,IAAU,EACV,UAA8C;IAE9C,MAAM,MAAM,IAAA,8KAAM;IAClB,MAAM,UAAU,IAAA,kMAAU,EAAC;IAC3B,MAAM,YAAY,IAAI,OAAO,OAAO;IACpC,MAAM,cAAc,CAAC,MAAM,EAAE,OAAO,YAAY,EAAE,OAAO,CAAC,EAAE,UAAU,CAAC,EAAE,KAAK,IAAI,EAAE;IACpF,MAAM,aAAa,IAAA,2LAAG,EAAC,SAAS;IAEhC,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,aAAyB,IAAA,4MAAoB,EAAC,YAAY;QAEhE,WAAW,EAAE,CAAC,iBACV,CAAC;YACG,MAAM,WAAW,AAAC,SAAS,gBAAgB,GAAG,SAAS,UAAU,GAAI;YACrE,WAAW;QACf,GACA,CAAC;YACG,QAAQ,KAAK,CAAC,kBAAkB;YAChC,OAAO;QACX,GACA;YACI,IAAI;gBACA,MAAM,cAAc,MAAM,IAAA,sMAAc,EAAC,WAAW,QAAQ,CAAC,GAAG;gBAChE,QAAQ;YACZ,EAAE,OAAO,OAAO;gBACZ,OAAO;YACX;QACJ;IAER;AACJ;AAEA,SAAS,SAAS,IAAU;IACxB,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,SAAS,IAAI;QACnB,OAAO,aAAa,CAAC;QACrB,OAAO,MAAM,GAAG;YACZ,mDAAmD;YACnD,wCAAwC;YACxC,IAAI,OAAO,OAAO,MAAM,KAAK,UAAU;gBACnC,OAAO,OAAO;YAClB;YACA,QAAQ,OAAO,MAAM,CAAC,SAAS,CAAC,OAAO,MAAM,CAAC,OAAO,CAAC,OAAO;QACjE;QACA,OAAO,OAAO,GAAG;IACrB;AACJ;AAEO,eAAe,cAClB,IAAU,EACV,UAA8C;IAE9C,MAAM;IACN;;IAIA,uDAAuD;IACvD,IAAI,KAAK,IAAI,GAAG,KAAK,OAAO,MAAM;QAC9B,MAAM,IAAI,MAAM;IACpB;IAEA,WAAW,KAAK,oBAAoB;IACpC,MAAM,eAAe,MAAM,SAAS;IAEpC,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,SAAS;IAEzB,MAAM,WAAW,MAAM,MAAM,CAAC,mCAAmC,EAAE,QAAQ,EAAE;QACzE,QAAQ;QACR,MAAM;IACV;IAEA,WAAW;IAEX,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,YAAY,MAAM,SAAS,IAAI;QACrC,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,WAAW,OAAO,WAAW,SAAS,UAAU,EAAE;IAC9F;IAEA,MAAM,SAAS,MAAM,SAAS,IAAI;IAElC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,IAAI,CAAC,GAAG,EAAE;QAClC,MAAM,IAAI,MAAM;IACpB;IAEA,+DAA+D;IAC/D,OAAO,OAAO,IAAI,CAAC,GAAG;AAC1B","debugId":null}},
    {"offset": {"line": 1082, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/hooks/use-image-uploader.ts"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useToast } from '@/hooks/use-toast';\nimport { uploadToFirebase, uploadToImgBB } from '@/firebase/storage';\nimport imageCompression from 'browser-image-compression';\n\nexport interface ImageUpload {\n    id: string;\n    file: File;\n    status: 'compressing' | 'uploading' | 'complete' | 'error';\n    progress?: number;\n    downloadURL?: string;\n    error?: string;\n}\n\nconst ALLOWED_IMAGE_TYPES = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\nexport function useImageUploader(userId: string, noteId: string, method: 'firebase' | 'imgbb') {\n    const [imageUpload, setImageUpload] = useState<ImageUpload | null>(null);\n    const { toast } = useToast();\n\n    const uploadImage = async (file: File) => {\n        if (!userId) {\n            toast({ variant: 'destructive', title: 'Error', description: 'You must be logged in to upload images.' });\n            return;\n        }\n        \n        // Validate file type\n        if (!ALLOWED_IMAGE_TYPES.includes(file.type)) {\n            toast({ \n                variant: 'destructive', \n                title: 'Invalid File Type', \n                description: 'Please upload a valid image file (JPEG, PNG, GIF, or WebP).' \n            });\n            return;\n        }\n        \n        // Validate file size\n        if (file.size > MAX_FILE_SIZE) {\n            toast({ \n                variant: 'destructive', \n                title: 'File Too Large', \n                description: 'Image must be smaller than 10MB.' \n            });\n            return;\n        }\n\n        const uploadId = `upload-${Date.now()}`;\n        setImageUpload({\n            id: uploadId,\n            file,\n            status: 'compressing',\n            progress: 0,\n        });\n\n        try {\n            const options = { maxSizeMB: 1, maxWidthOrHeight: 1920, useWebWorker: true, initialQuality: 0.8 };\n            const compressedFile = await imageCompression(file, options);\n            \n            setImageUpload(prev => prev ? { ...prev, status: 'uploading' } : null);\n\n            let downloadURL: string;\n            \n            if (method === 'firebase') {\n                downloadURL = await uploadToFirebase(userId, noteId, compressedFile, (progress) => {\n                    setImageUpload(prev => prev ? { ...prev, progress } : null);\n                });\n            } else { // 'imgbb'\n                downloadURL = await uploadToImgBB(compressedFile, (progress) => {\n                    setImageUpload(prev => prev ? { ...prev, progress } : null);\n                });\n            }\n            \n            setImageUpload(prev => prev ? { ...prev, status: 'complete', downloadURL } : null);\n\n        } catch (error: any) {\n            console.error(\"Image upload error:\", error);\n            const errorMessage = error.message || 'Upload failed. Please try again.';\n            setImageUpload(prev => prev ? { ...prev, status: 'error', error: errorMessage } : null);\n            toast({\n                variant: 'destructive',\n                title: 'Upload Error',\n                description: errorMessage,\n            });\n        }\n    };\n    \n    const cancelUpload = () => {\n        // In a real app, you might need to cancel the ongoing fetch/upload task.\n        // For simplicity here, we're just clearing the UI state.\n        setImageUpload(null);\n    };\n\n    return {\n        imageUpload,\n        uploadImage,\n        cancelUpload\n    };\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;AAgBA,MAAM,sBAAsB;IAAC;IAAc;IAAa;IAAa;IAAa;CAAa;AAC/F,MAAM,gBAAgB,KAAK,OAAO,MAAM,OAAO;AAExC,SAAS,iBAAiB,MAAc,EAAE,MAAc,EAAE,MAA4B;IACzF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAqB;IACnE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ;IAE1B,MAAM,cAAc,OAAO;QACvB,IAAI,CAAC,QAAQ;YACT,MAAM;gBAAE,SAAS;gBAAe,OAAO;gBAAS,aAAa;YAA0C;YACvG;QACJ;QAEA,qBAAqB;QACrB,IAAI,CAAC,oBAAoB,QAAQ,CAAC,KAAK,IAAI,GAAG;YAC1C,MAAM;gBACF,SAAS;gBACT,OAAO;gBACP,aAAa;YACjB;YACA;QACJ;QAEA,qBAAqB;QACrB,IAAI,KAAK,IAAI,GAAG,eAAe;YAC3B,MAAM;gBACF,SAAS;gBACT,OAAO;gBACP,aAAa;YACjB;YACA;QACJ;QAEA,MAAM,WAAW,CAAC,OAAO,EAAE,KAAK,GAAG,IAAI;QACvC,eAAe;YACX,IAAI;YACJ;YACA,QAAQ;YACR,UAAU;QACd;QAEA,IAAI;YACA,MAAM,UAAU;gBAAE,WAAW;gBAAG,kBAAkB;gBAAM,cAAc;gBAAM,gBAAgB;YAAI;YAChG,MAAM,iBAAiB,MAAM,IAAA,sMAAgB,EAAC,MAAM;YAEpD,eAAe,CAAA,OAAQ,OAAO;oBAAE,GAAG,IAAI;oBAAE,QAAQ;gBAAY,IAAI;YAEjE,IAAI;YAEJ,IAAI,WAAW,YAAY;gBACvB,cAAc,MAAM,IAAA,8IAAgB,EAAC,QAAQ,QAAQ,gBAAgB,CAAC;oBAClE,eAAe,CAAA,OAAQ,OAAO;4BAAE,GAAG,IAAI;4BAAE;wBAAS,IAAI;gBAC1D;YACJ,OAAO;gBACH,cAAc,MAAM,IAAA,2IAAa,EAAC,gBAAgB,CAAC;oBAC/C,eAAe,CAAA,OAAQ,OAAO;4BAAE,GAAG,IAAI;4BAAE;wBAAS,IAAI;gBAC1D;YACJ;YAEA,eAAe,CAAA,OAAQ,OAAO;oBAAE,GAAG,IAAI;oBAAE,QAAQ;oBAAY;gBAAY,IAAI;QAEjF,EAAE,OAAO,OAAY;YACjB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,MAAM,eAAe,MAAM,OAAO,IAAI;YACtC,eAAe,CAAA,OAAQ,OAAO;oBAAE,GAAG,IAAI;oBAAE,QAAQ;oBAAS,OAAO;gBAAa,IAAI;YAClF,MAAM;gBACF,SAAS;gBACT,OAAO;gBACP,aAAa;YACjB;QACJ;IACJ;IAEA,MAAM,eAAe;QACjB,yEAAyE;QACzE,yDAAyD;QACzD,eAAe;IACnB;IAEA,OAAO;QACH;QACA;QACA;IACJ;AACJ","debugId":null}},
    {"offset": {"line": 1203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/services/llm/html-editor-agent.ts"],"sourcesContent":["'use server';\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport { genkit } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\ntype ModificationType = 'replace' | 'insertAfter' | 'insertBefore' | 'updateText' | 'addImage' | 'appendChild';\n\nexport interface EditInstruction {\n  currentHtml: string;\n  userInstruction: string;\n  imageUrl?: string;\n  apiKey?: string;\n  conversationHistory?: { role: 'user' | 'assistant'; content: string }[];\n}\n\nexport interface EditResponse {\n  success: boolean;\n  modifiedHtml?: string;\n  changeDescription?: string;\n  modification?: {\n    targetSelector: string;\n    modificationType: ModificationType;\n    newContent: string;\n    explanation: string;\n    textContent?: string;\n    tagName?: string;\n    index?: number;\n  };\n  error?: string;\n}\n\nconst HtmlModificationSchema = z.object({\n  targetSelector: z.string().describe('CSS selector of the element to modify'),\n  modificationType: z.enum(['replace', 'insertAfter', 'insertBefore', 'updateText', 'addImage', 'appendChild']),\n  newContent: z.string().describe('The new HTML content or text to insert'),\n  explanation: z.string().describe('Brief description of what was changed'),\n  textContent: z.string().optional().describe('Fallback: a short snippet of nearby text to locate the element'),\n  tagName: z.string().optional().describe('Fallback: tag name to narrow the search (e.g., div, h2)'),\n  index: z.number().optional().describe('Fallback: 1-based index among elements with the tagName'),\n});\n\n/**\n * LLM-powered HTML editor that intelligently identifies and modifies specific parts\n */\nexport async function editHtmlWithLLM(instruction: EditInstruction): Promise<EditResponse> {\n  try {\n    // Validate input HTML\n    const validation = validateHtmlServer(instruction.currentHtml);\n    if (!validation.valid) {\n      return {\n        success: false,\n        error: `Invalid HTML: ${validation.errors.join(', ')}`,\n      };\n    }\n\n    // Prepare the prompt for LLM\n    const historyText = instruction.conversationHistory && instruction.conversationHistory.length\n      ? `\\nConversation History:\\n${instruction.conversationHistory.map(m => `${m.role}: ${m.content}`).join('\\n')}`\n      : '';\n    const systemPrompt = `You are an expert HTML editor agent. Your task is to analyze HTML content and user instructions to make precise, targeted modifications.\n\nCRITICAL RULES:\n1. NEVER regenerate the entire HTML document\n2. Identify the EXACT element that needs modification\n3. Provide ONLY the specific content that needs to change\n4. Use precise CSS selectors (prefer ID or class; avoid nth-of-type unless necessary)\n5. Preserve all existing HTML structure, styling, and formatting\n6. For image insertion, if the document contains \".diagram-placeholder\" or \".image-placeholder\", target that element. If neither exists, choose the most relevant nearby section (e.g., after a related heading). The renderer will wrap the image URL in the correct responsive container, so you only need to choose the insertion point.\n7. Ensure the selector exists in the provided HTML; adjust to an existing class/ID if needed\n8. Also include fallback fields (textContent, tagName, index) that can help locate the target if the selector fails\n\nMODIFICATION TYPES:\n- \"replace\": Replace entire element with new HTML with proper css if the css is not exist(for image create css also so its render properly with the html code)\n- \"updateText\": Change only the text content (preserves tags)\n- \"insertAfter\": Insert new content after the target element\n- \"insertBefore\": Insert new content before the target element\n- \"addImage\": Insert an image after the target element\n- \"appendChild\": Add content as a child of the target element\n\nCurrent HTML Document:\n\\`\\`\\`html\n${instruction.currentHtml}\n\\`\\`\\`\n\nUser Instruction: \"${instruction.userInstruction}\"\n${instruction.imageUrl ? `\\nImage URL to insert: ${instruction.imageUrl}` : ''}\n${historyText}\n\nAnalyze the HTML and provide a JSON response with:\n1. targetSelector: The CSS selector for the element to modify\n2. modificationType: One of the types listed above\n3. newContent: The exact HTML/text to insert (keep it minimal). For \"addImage\", a brief description is fine because the final renderer will use the provided image URL.\n4. explanation: Brief description of the change\n\nExample Response:\n{\n  \"targetSelector\": \"h1.main-title\",\n  \"modificationType\": \"updateText\",\n  \"newContent\": \"New Title Text\",\n  \"explanation\": \"Changed the main heading text\"\n}`;\n\n    // Call LLM with retry logic (multimodal if image present)\n    const client = instruction.apiKey\n      ? genkit({ plugins: [googleAI({ apiKey: instruction.apiKey })], model: 'googleai/gemini-2.5-flash' })\n      : ai;\n    const promptInput: any = await buildPromptWithOptionalImage(systemPrompt, instruction.imageUrl);\n    const llmResponse = await retryWithBackoff(async () => {\n      return await client.generate({\n        prompt: promptInput,\n        output: {\n          schema: HtmlModificationSchema,\n        },\n      });\n    });\n\n    // Parse LLM response robustly\n    let modification: z.infer<typeof HtmlModificationSchema> | null = null;\n    const candidate = (llmResponse as any)?.output ?? (llmResponse as any)?.data ?? undefined;\n    if (candidate) {\n      const parsed = HtmlModificationSchema.safeParse(candidate);\n      if (parsed.success) {\n        modification = parsed.data;\n      }\n    }\n    if (!modification) {\n      const text = (llmResponse as any)?.text;\n      if (typeof text === 'string') {\n        try {\n          const json = JSON.parse(text);\n          const parsed = HtmlModificationSchema.safeParse(json);\n          if (parsed.success) {\n            modification = parsed.data;\n          }\n        } catch {\n          // ignore JSON parse errors\n        }\n      }\n    }\n\n    if (!modification) {\n      throw new Error('LLM did not return a valid modification');\n    }\n\n    // If adding an image, use the provided URL\n    let contentToInsert = modification.newContent;\n    if (modification.modificationType === 'addImage' && instruction.imageUrl) {\n      contentToInsert = instruction.imageUrl;\n    }\n\n    // Return modification plan; client will apply DOM changes and sanitize\n    return {\n      success: true,\n      modification: {\n        targetSelector: modification.targetSelector,\n        modificationType: modification.modificationType,\n        newContent: contentToInsert,\n        explanation: modification.explanation,\n        textContent: (modification as any).textContent,\n        tagName: (modification as any).tagName,\n        index: (modification as any).index,\n      },\n      changeDescription: modification.explanation,\n    };\n  } catch (error) {\n    console.error('HTML editing error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error occurred',\n    };\n  }\n}\n\n/**\n * Answer questions about HTML content without modifying it\n */\nexport async function answerQuestionAboutHtml(\n  htmlContent: string,\n  question: string,\n  opts?: { apiKey?: string; conversationHistory?: { role: 'user' | 'assistant'; content: string }[]; imageUrl?: string }\n): Promise<string> {\n  try {\n    const historyText = opts?.conversationHistory && opts.conversationHistory.length\n      ? `\\nConversation History:\\n${opts.conversationHistory.map(m => `${m.role}: ${m.content}`).join('\\n')}`\n      : '';\n    const imageText = opts?.imageUrl ? `\\nAn image has been attached (URL: ${opts.imageUrl}). You may consider the image as additional context together with the HTML when answering. Avoid making claims beyond what is supported by the HTML and the visible content of the image.` : '';\n    const prompt = `You are a helpful learning assistant. Answer the user's question using the provided HTML document content.${opts?.imageUrl ? ' Also consider the attached image.' : ''} Avoid using external knowledge.\n\nHTML Document Content:\n\\`\\`\\`html\n${htmlContent}\n\\`\\`\\`\n\nUser Question: \"${question}\"\n${historyText}\n${imageText}\n\nProvide a clear, concise answer based on the document content. If the answer cannot be found in the document, say so.`;\n\n    const client = opts?.apiKey\n      ? genkit({ plugins: [googleAI({ apiKey: opts.apiKey })], model: 'googleai/gemini-2.5-flash' })\n      : ai;\n    const promptInput: any = await buildPromptWithOptionalImage(prompt, opts?.imageUrl);\n    const response = await retryWithBackoff(async () => {\n      return await client.generate({ prompt: promptInput });\n    });\n\n    return response.text;\n  } catch (error) {\n    console.error('Question answering error:', error);\n    throw new Error(`Failed to answer question: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n\n/**\n * Retry helper with exponential backoff\n */\nasync function retryWithBackoff<T>(fn: () => Promise<T>, retries = 3): Promise<T> {\n  for (let i = 0; i < retries; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      if (i === retries - 1) throw error;\n      const delay = Math.pow(2, i) * 1000;\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n  }\n  throw new Error('Max retries exceeded');\n}\nfunction validateHtmlServer(html: string): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n  if (!html || html.trim().length === 0) errors.push('HTML content is empty');\n  if (html.length > 5000000) errors.push('HTML content exceeds size limit (5MB)');\n  if (!html.includes('<html') && !html.includes('<body')) errors.push('HTML missing basic structure');\n  return { valid: errors.length === 0, errors };\n}\n\n/**\n * Build a Genkit prompt that attaches an image (as data URL if fetch succeeds) plus a text part.\n * If no image is provided, returns the text prompt string for compatibility.\n */\nasync function buildPromptWithOptionalImage(textPrompt: string, imageUrl?: string): Promise<any> {\n  if (!imageUrl) return textPrompt;\n  const dataUrl = await toDataUrlFromUrl(imageUrl);\n  const mediaUrl = dataUrl || imageUrl; // Fallback to remote URL if inlining fails\n  return [\n    { media: { url: mediaUrl } },\n    { text: textPrompt },\n  ];\n}\n\n/**\n * Fetch an image and convert it to a data URL. Returns null on failure.\n */\nasync function toDataUrlFromUrl(url: string): Promise<string | null> {\n  try {\n    const controller = new AbortController();\n    const timeout = setTimeout(() => controller.abort(), 10000);\n    const res = await fetch(url, { signal: controller.signal, headers: { Accept: 'image/*' } });\n    clearTimeout(timeout);\n    if (!res.ok) return null;\n    const mime = res.headers.get('content-type') || 'image/jpeg';\n    const arrayBuffer = await res.arrayBuffer();\n    const base64 = Buffer.from(arrayBuffer).toString('base64');\n    return `data:${mime};base64,${base64}`;\n  } catch {\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IA4CsB,kBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 1215, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/services/llm/html-editor-agent.ts"],"sourcesContent":["'use server';\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport { genkit } from 'genkit';\nimport { googleAI } from '@genkit-ai/google-genai';\ntype ModificationType = 'replace' | 'insertAfter' | 'insertBefore' | 'updateText' | 'addImage' | 'appendChild';\n\nexport interface EditInstruction {\n  currentHtml: string;\n  userInstruction: string;\n  imageUrl?: string;\n  apiKey?: string;\n  conversationHistory?: { role: 'user' | 'assistant'; content: string }[];\n}\n\nexport interface EditResponse {\n  success: boolean;\n  modifiedHtml?: string;\n  changeDescription?: string;\n  modification?: {\n    targetSelector: string;\n    modificationType: ModificationType;\n    newContent: string;\n    explanation: string;\n    textContent?: string;\n    tagName?: string;\n    index?: number;\n  };\n  error?: string;\n}\n\nconst HtmlModificationSchema = z.object({\n  targetSelector: z.string().describe('CSS selector of the element to modify'),\n  modificationType: z.enum(['replace', 'insertAfter', 'insertBefore', 'updateText', 'addImage', 'appendChild']),\n  newContent: z.string().describe('The new HTML content or text to insert'),\n  explanation: z.string().describe('Brief description of what was changed'),\n  textContent: z.string().optional().describe('Fallback: a short snippet of nearby text to locate the element'),\n  tagName: z.string().optional().describe('Fallback: tag name to narrow the search (e.g., div, h2)'),\n  index: z.number().optional().describe('Fallback: 1-based index among elements with the tagName'),\n});\n\n/**\n * LLM-powered HTML editor that intelligently identifies and modifies specific parts\n */\nexport async function editHtmlWithLLM(instruction: EditInstruction): Promise<EditResponse> {\n  try {\n    // Validate input HTML\n    const validation = validateHtmlServer(instruction.currentHtml);\n    if (!validation.valid) {\n      return {\n        success: false,\n        error: `Invalid HTML: ${validation.errors.join(', ')}`,\n      };\n    }\n\n    // Prepare the prompt for LLM\n    const historyText = instruction.conversationHistory && instruction.conversationHistory.length\n      ? `\\nConversation History:\\n${instruction.conversationHistory.map(m => `${m.role}: ${m.content}`).join('\\n')}`\n      : '';\n    const systemPrompt = `You are an expert HTML editor agent. Your task is to analyze HTML content and user instructions to make precise, targeted modifications.\n\nCRITICAL RULES:\n1. NEVER regenerate the entire HTML document\n2. Identify the EXACT element that needs modification\n3. Provide ONLY the specific content that needs to change\n4. Use precise CSS selectors (prefer ID or class; avoid nth-of-type unless necessary)\n5. Preserve all existing HTML structure, styling, and formatting\n6. For image insertion, if the document contains \".diagram-placeholder\" or \".image-placeholder\", target that element. If neither exists, choose the most relevant nearby section (e.g., after a related heading). The renderer will wrap the image URL in the correct responsive container, so you only need to choose the insertion point.\n7. Ensure the selector exists in the provided HTML; adjust to an existing class/ID if needed\n8. Also include fallback fields (textContent, tagName, index) that can help locate the target if the selector fails\n\nMODIFICATION TYPES:\n- \"replace\": Replace entire element with new HTML with proper css if the css is not exist(for image create css also so its render properly with the html code)\n- \"updateText\": Change only the text content (preserves tags)\n- \"insertAfter\": Insert new content after the target element\n- \"insertBefore\": Insert new content before the target element\n- \"addImage\": Insert an image after the target element\n- \"appendChild\": Add content as a child of the target element\n\nCurrent HTML Document:\n\\`\\`\\`html\n${instruction.currentHtml}\n\\`\\`\\`\n\nUser Instruction: \"${instruction.userInstruction}\"\n${instruction.imageUrl ? `\\nImage URL to insert: ${instruction.imageUrl}` : ''}\n${historyText}\n\nAnalyze the HTML and provide a JSON response with:\n1. targetSelector: The CSS selector for the element to modify\n2. modificationType: One of the types listed above\n3. newContent: The exact HTML/text to insert (keep it minimal). For \"addImage\", a brief description is fine because the final renderer will use the provided image URL.\n4. explanation: Brief description of the change\n\nExample Response:\n{\n  \"targetSelector\": \"h1.main-title\",\n  \"modificationType\": \"updateText\",\n  \"newContent\": \"New Title Text\",\n  \"explanation\": \"Changed the main heading text\"\n}`;\n\n    // Call LLM with retry logic (multimodal if image present)\n    const client = instruction.apiKey\n      ? genkit({ plugins: [googleAI({ apiKey: instruction.apiKey })], model: 'googleai/gemini-2.5-flash' })\n      : ai;\n    const promptInput: any = await buildPromptWithOptionalImage(systemPrompt, instruction.imageUrl);\n    const llmResponse = await retryWithBackoff(async () => {\n      return await client.generate({\n        prompt: promptInput,\n        output: {\n          schema: HtmlModificationSchema,\n        },\n      });\n    });\n\n    // Parse LLM response robustly\n    let modification: z.infer<typeof HtmlModificationSchema> | null = null;\n    const candidate = (llmResponse as any)?.output ?? (llmResponse as any)?.data ?? undefined;\n    if (candidate) {\n      const parsed = HtmlModificationSchema.safeParse(candidate);\n      if (parsed.success) {\n        modification = parsed.data;\n      }\n    }\n    if (!modification) {\n      const text = (llmResponse as any)?.text;\n      if (typeof text === 'string') {\n        try {\n          const json = JSON.parse(text);\n          const parsed = HtmlModificationSchema.safeParse(json);\n          if (parsed.success) {\n            modification = parsed.data;\n          }\n        } catch {\n          // ignore JSON parse errors\n        }\n      }\n    }\n\n    if (!modification) {\n      throw new Error('LLM did not return a valid modification');\n    }\n\n    // If adding an image, use the provided URL\n    let contentToInsert = modification.newContent;\n    if (modification.modificationType === 'addImage' && instruction.imageUrl) {\n      contentToInsert = instruction.imageUrl;\n    }\n\n    // Return modification plan; client will apply DOM changes and sanitize\n    return {\n      success: true,\n      modification: {\n        targetSelector: modification.targetSelector,\n        modificationType: modification.modificationType,\n        newContent: contentToInsert,\n        explanation: modification.explanation,\n        textContent: (modification as any).textContent,\n        tagName: (modification as any).tagName,\n        index: (modification as any).index,\n      },\n      changeDescription: modification.explanation,\n    };\n  } catch (error) {\n    console.error('HTML editing error:', error);\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error occurred',\n    };\n  }\n}\n\n/**\n * Answer questions about HTML content without modifying it\n */\nexport async function answerQuestionAboutHtml(\n  htmlContent: string,\n  question: string,\n  opts?: { apiKey?: string; conversationHistory?: { role: 'user' | 'assistant'; content: string }[]; imageUrl?: string }\n): Promise<string> {\n  try {\n    const historyText = opts?.conversationHistory && opts.conversationHistory.length\n      ? `\\nConversation History:\\n${opts.conversationHistory.map(m => `${m.role}: ${m.content}`).join('\\n')}`\n      : '';\n    const imageText = opts?.imageUrl ? `\\nAn image has been attached (URL: ${opts.imageUrl}). You may consider the image as additional context together with the HTML when answering. Avoid making claims beyond what is supported by the HTML and the visible content of the image.` : '';\n    const prompt = `You are a helpful learning assistant. Answer the user's question using the provided HTML document content.${opts?.imageUrl ? ' Also consider the attached image.' : ''} Avoid using external knowledge.\n\nHTML Document Content:\n\\`\\`\\`html\n${htmlContent}\n\\`\\`\\`\n\nUser Question: \"${question}\"\n${historyText}\n${imageText}\n\nProvide a clear, concise answer based on the document content. If the answer cannot be found in the document, say so.`;\n\n    const client = opts?.apiKey\n      ? genkit({ plugins: [googleAI({ apiKey: opts.apiKey })], model: 'googleai/gemini-2.5-flash' })\n      : ai;\n    const promptInput: any = await buildPromptWithOptionalImage(prompt, opts?.imageUrl);\n    const response = await retryWithBackoff(async () => {\n      return await client.generate({ prompt: promptInput });\n    });\n\n    return response.text;\n  } catch (error) {\n    console.error('Question answering error:', error);\n    throw new Error(`Failed to answer question: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n\n/**\n * Retry helper with exponential backoff\n */\nasync function retryWithBackoff<T>(fn: () => Promise<T>, retries = 3): Promise<T> {\n  for (let i = 0; i < retries; i++) {\n    try {\n      return await fn();\n    } catch (error) {\n      if (i === retries - 1) throw error;\n      const delay = Math.pow(2, i) * 1000;\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n  }\n  throw new Error('Max retries exceeded');\n}\nfunction validateHtmlServer(html: string): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n  if (!html || html.trim().length === 0) errors.push('HTML content is empty');\n  if (html.length > 5000000) errors.push('HTML content exceeds size limit (5MB)');\n  if (!html.includes('<html') && !html.includes('<body')) errors.push('HTML missing basic structure');\n  return { valid: errors.length === 0, errors };\n}\n\n/**\n * Build a Genkit prompt that attaches an image (as data URL if fetch succeeds) plus a text part.\n * If no image is provided, returns the text prompt string for compatibility.\n */\nasync function buildPromptWithOptionalImage(textPrompt: string, imageUrl?: string): Promise<any> {\n  if (!imageUrl) return textPrompt;\n  const dataUrl = await toDataUrlFromUrl(imageUrl);\n  const mediaUrl = dataUrl || imageUrl; // Fallback to remote URL if inlining fails\n  return [\n    { media: { url: mediaUrl } },\n    { text: textPrompt },\n  ];\n}\n\n/**\n * Fetch an image and convert it to a data URL. Returns null on failure.\n */\nasync function toDataUrlFromUrl(url: string): Promise<string | null> {\n  try {\n    const controller = new AbortController();\n    const timeout = setTimeout(() => controller.abort(), 10000);\n    const res = await fetch(url, { signal: controller.signal, headers: { Accept: 'image/*' } });\n    clearTimeout(timeout);\n    if (!res.ok) return null;\n    const mime = res.headers.get('content-type') || 'image/jpeg';\n    const arrayBuffer = await res.arrayBuffer();\n    const base64 = Buffer.from(arrayBuffer).toString('base64');\n    return `data:${mime};base64,${base64}`;\n  } catch {\n    return null;\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAgLsB,0BAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA","debugId":null}},
    {"offset": {"line": 1227, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/services/llm/html-parser.ts"],"sourcesContent":["'use client';\nimport DOMPurify from 'dompurify';\n\nexport type ModificationType = 'replace' | 'insertAfter' | 'insertBefore' | 'updateText' | 'addImage' | 'appendChild';\n\nexport interface HtmlModification {\n  targetSelector: string;\n  modificationType: ModificationType;\n  newContent: string;\n  explanation: string;\n}\n\n/**\n * Apply partial edit to HTML using DOM manipulation\n * This preserves the entire HTML structure and only modifies the targeted element\n */\ntype ElementContext = { selector?: string; textContent?: string; tagName?: string; index?: number };\n\nexport async function applyPartialEdit(\n  currentHtml: string,\n  targetSelector: string,\n  modificationType: ModificationType,\n  newContent: string,\n  context?: ElementContext\n): Promise<string> {\n  try {\n    // Create a DOM parser\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(currentHtml, 'text/html');\n\n    // Fragment-level sanitize options to preserve CSS and scripts inside the iframe document\n    const fragmentSanitizeOptions = {\n      ALLOWED_TAGS: [\n        'html', 'head', 'body', 'title', 'meta', 'link',\n        'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n        'p', 'br', 'hr', 'pre', 'code', 'blockquote',\n        'ul', 'ol', 'li', 'dl', 'dt', 'dd',\n        'table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td',\n        'div', 'span', 'section', 'article', 'aside', 'header', 'footer', 'nav', 'main',\n        'a', 'img', 'figure', 'figcaption',\n        'strong', 'em', 'b', 'i', 'u', 's', 'mark', 'small', 'sub', 'sup',\n        'style', 'script',\n      ],\n      ALLOWED_ATTR: [\n        'href', 'src', 'alt', 'title', 'class', 'id', 'style',\n        'width', 'height', 'colspan', 'rowspan',\n        'target', 'rel', 'type', 'charset', 'name', 'content',\n        'async', 'defer', 'crossorigin', 'integrity', 'referrerpolicy',\n        'loading', 'decoding', 'sizes', 'fetchpriority',\n      ],\n      ALLOW_DATA_ATTR: false,\n    } as const;\n\n    // Find the target element\n    let targetElement: Element | null = doc.querySelector(targetSelector);\n    \n    if (!targetElement) {\n      const nthMatch = targetSelector.match(/:nth-of-type\\((\\d+)\\)/);\n      if (nthMatch) {\n        const n = parseInt(nthMatch[1], 10);\n        const baseSelector = targetSelector.replace(/:nth-of-type\\(\\d+\\)/g, '');\n        const candidates = doc.querySelectorAll(baseSelector);\n        if (candidates.length >= n) {\n          targetElement = candidates[n - 1] || null;\n        } else if (candidates.length > 0) {\n          targetElement = candidates[0] || null;\n        }\n      }\n    }\n\n    if (!targetElement && targetSelector.includes('.diagram-placeholder')) {\n      const placeholders = doc.querySelectorAll('.diagram-placeholder');\n      if (placeholders.length > 0) {\n        targetElement = placeholders[0];\n      }\n    }\n\n    if (!targetElement) {\n      const altSelector = targetSelector.replace(/:nth-of-type\\((\\d+)\\)/, ':nth-child($1)');\n      targetElement = doc.querySelector(altSelector);\n    }\n\n    if (!targetElement && context) {\n      const candidate = findElementByContext(doc, context);\n      if (candidate) targetElement = candidate;\n    }\n\n    if (!targetElement) {\n      if (modificationType === 'addImage' || modificationType === 'appendChild') {\n        targetElement = doc.body;\n      } else {\n        throw new Error(`Target element not found: ${targetSelector}`);\n      }\n    }\n\n    // Apply modification based on type\n    switch (modificationType) {\n      case 'replace':\n        // Replace entire element\n        const tempDiv = doc.createElement('div');\n        tempDiv.innerHTML = DOMPurify.sanitize(newContent, fragmentSanitizeOptions as any) as unknown as string;\n        const newElement = tempDiv.firstElementChild;\n        if (newElement) {\n          targetElement.replaceWith(newElement);\n        }\n        break;\n\n      case 'updateText':\n        // Update only text content\n        targetElement.textContent = newContent;\n        break;\n\n      case 'insertAfter':\n        // Insert new content after target element\n        const afterDiv = doc.createElement('div');\n        afterDiv.innerHTML = DOMPurify.sanitize(newContent, fragmentSanitizeOptions as any) as unknown as string;\n        while (afterDiv.firstChild) {\n          targetElement.after(afterDiv.firstChild);\n        }\n        break;\n\n      case 'insertBefore':\n        // Insert new content before target element\n        const beforeDiv = doc.createElement('div');\n        beforeDiv.innerHTML = DOMPurify.sanitize(newContent, fragmentSanitizeOptions as any) as unknown as string;\n        while (beforeDiv.firstChild) {\n          targetElement.before(beforeDiv.firstChild);\n        }\n        break;\n\n      case 'addImage':\n        const wrapper = doc.createElement('div');\n        wrapper.className = 'flowchart';\n        const img = doc.createElement('img');\n        img.src = newContent;\n        img.alt = 'Image';\n        img.loading = 'lazy';\n        img.decoding = 'async';\n        img.referrerPolicy = 'no-referrer';\n        img.style.maxWidth = '100%';\n        img.style.height = 'auto';\n        img.style.display = 'block';\n        img.style.margin = '1rem auto';\n        img.setAttribute('fetchpriority', 'low');\n        // Allow responsive hints if later extended with srcset\n        img.setAttribute('sizes', '100vw');\n        wrapper.appendChild(img);\n        const te = targetElement as HTMLElement;\n        if (te.classList?.contains('diagram-placeholder') || te.classList?.contains('image-placeholder')) {\n          te.innerHTML = '';\n          te.appendChild(wrapper);\n        } else if (te.classList?.contains('flowchart')) {\n          te.innerHTML = '';\n          te.appendChild(img);\n        } else {\n          te.after(wrapper);\n        }\n        break;\n\n      case 'appendChild':\n        // Append as child of target element\n        const childDiv = doc.createElement('div');\n        childDiv.innerHTML = DOMPurify.sanitize(newContent, fragmentSanitizeOptions as any) as unknown as string;\n        while (childDiv.firstChild) {\n          targetElement.appendChild(childDiv.firstChild);\n        }\n        break;\n\n      default:\n        throw new Error(`Unknown modification type: ${modificationType}`);\n    }\n\n    // Serialize back to HTML\n    const serializer = new XMLSerializer();\n    const modifiedHtml = serializer.serializeToString(doc);\n\n    // Clean up XML declaration if present\n    return modifiedHtml.replace(/<\\?xml[^>]*\\?>/g, '');\n  } catch (error) {\n    console.error('Error applying partial edit:', error);\n    throw new Error(`Failed to apply partial edit: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Find element by various selector strategies\n * Tries multiple approaches to locate the target element\n */\nexport function findElementByContext(\n  doc: Document,\n  context: {\n    selector?: string;\n    textContent?: string;\n    tagName?: string;\n    index?: number;\n  }\n): Element | null {\n  // Try direct selector first\n  if (context.selector) {\n    const element = doc.querySelector(context.selector);\n    if (element) return element;\n  }\n\n  // Try finding by text content\n  if (context.textContent && context.tagName) {\n    const elements = doc.querySelectorAll(context.tagName);\n    for (const el of Array.from(elements)) {\n      if (el.textContent?.includes(context.textContent)) {\n        return el;\n      }\n    }\n  }\n\n  // Try finding by tag name and index\n  if (context.tagName && context.index !== undefined) {\n    const elements = doc.querySelectorAll(context.tagName);\n    return elements[context.index] || null;\n  }\n\n  return null;\n}\n\n/**\n * Extract text content from HTML for LLM context\n * Removes scripts, styles, and returns clean text\n */\nexport function extractTextContent(html: string): string {\n  const parser = new DOMParser();\n  const doc = parser.parseFromString(html, 'text/html');\n\n  // Remove script and style tags\n  const scripts = doc.querySelectorAll('script, style');\n  scripts.forEach(el => el.remove());\n\n  return doc.body.textContent || '';\n}\n\n/**\n * Validate HTML structure\n */\nexport function validateHtml(html: string): { valid: boolean; errors: string[] } {\n  const errors: string[] = [];\n\n  if (!html || html.trim().length === 0) {\n    errors.push('HTML content is empty');\n  }\n\n  if (html.length > 5000000) { // 5MB limit\n    errors.push('HTML content exceeds size limit (5MB)');\n  }\n\n  // Check for basic HTML structure\n  if (!html.includes('<html') && !html.includes('<body')) {\n    errors.push('HTML missing basic structure');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n  };\n}\n\n/**\n * Sanitize HTML to prevent XSS\n */\nexport function sanitizeHtml(html: string): string {\n  const config = {\n    WHOLE_DOCUMENT: true,\n    ALLOWED_TAGS: [\n      'html', 'head', 'body', 'title', 'meta', 'link',\n      'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n      'p', 'br', 'hr', 'pre', 'code', 'blockquote',\n      'ul', 'ol', 'li', 'dl', 'dt', 'dd',\n      'table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td',\n      'div', 'span', 'section', 'article', 'aside', 'header', 'footer', 'nav', 'main',\n      'a', 'img', 'figure', 'figcaption',\n      'strong', 'em', 'b', 'i', 'u', 's', 'mark', 'small', 'sub', 'sup',\n      'style',\n    ],\n    ALLOWED_ATTR: [\n      'href', 'src', 'alt', 'title', 'class', 'id', 'style',\n      'width', 'height', 'colspan', 'rowspan',\n      'target', 'rel', 'type', 'charset', 'name', 'content',\n      'referrerpolicy', 'loading', 'decoding', 'sizes', 'fetchpriority',\n    ],\n    ALLOW_DATA_ATTR: false,\n  } as any;\n  return DOMPurify.sanitize(html, config) as unknown as string;\n}\n\n/**\n * Generate CSS selector for an element\n */\nexport function generateSelector(element: Element): string {\n  // If element has ID, use it\n  if (element.id) {\n    return `#${element.id}`;\n  }\n\n  // If element has unique class\n  if (element.className) {\n    const classes = element.className.split(' ').filter(c => c.trim());\n    if (classes.length > 0) {\n      return `.${classes[0]}`;\n    }\n  }\n\n  // Use tag name with nth-of-type\n  const parent = element.parentElement;\n  if (parent) {\n    const siblings = Array.from(parent.children).filter(\n      el => el.tagName === element.tagName\n    );\n    const index = siblings.indexOf(element) + 1;\n    return `${element.tagName.toLowerCase()}:nth-of-type(${index})`;\n  }\n\n  return element.tagName.toLowerCase();\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1615, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1755, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/dashboard/api-key-modal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { useToast } from '@/hooks/use-toast';\nimport { Loader2 } from 'lucide-react';\nimport { doc, setDoc } from 'firebase/firestore';\nimport { useFirestore } from '@/firebase';\nimport { errorEmitter } from '@/firebase/error-emitter';\nimport { FirestorePermissionError } from '@/firebase/errors';\n\ntype ApiKeyModalProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  userId: string;\n  onKeyVerified: () => void;\n};\n\n/**\n * Validates the Gemini API key by making a real API call to list models.\n * @param apiKey The Gemini API key to validate\n * @returns Promise that resolves to true if valid, false otherwise\n */\nasync function validateApiKey(apiKey: string): Promise<boolean> {\n    if (!apiKey || !apiKey.trim()) return false;\n    \n    // Basic format check first\n    if (!apiKey.startsWith('AIza') || apiKey.length < 30) {\n        return false;\n    }\n    \n    try {\n        // Make a real API call to verify the key works\n        const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models', {\n            method: 'GET',\n            headers: {\n                'x-goog-api-key': apiKey\n            }\n        });\n        \n        return response.ok;\n    } catch (error) {\n        console.error('API key validation error:', error);\n        return false;\n    }\n}\n\n\nexport default function ApiKeyModal({ isOpen, onClose, userId, onKeyVerified }: ApiKeyModalProps) {\n  const [apiKey, setApiKey] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const { toast } = useToast();\n  const firestore = useFirestore();\n\n  const handleVerify = async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const isValid = await validateApiKey(apiKey);\n\n      if (!isValid) {\n        setError('Invalid API key. Please verify your Gemini API key and try again.');\n        setIsLoading(false);\n        return;\n      }\n\n      // Save the validated API key to Firestore\n      const userSettingsRef = doc(firestore, `users/${userId}/settings/gemini`);\n      \n      await setDoc(userSettingsRef, { \n        apiKey,\n        updatedAt: new Date().toISOString()\n      }, { merge: true });\n\n      toast({\n        title: 'API Key Verified!',\n        description: 'Your Gemini API key has been validated and saved securely.',\n      });\n      \n      onKeyVerified();\n    } catch (e: any) {\n      console.error('Error verifying API key:', e);\n      \n      if (e.code === 'permission-denied') {\n        setError('Permission denied. Please ensure you are logged in.');\n        toast({\n          variant: 'destructive',\n          title: 'Permission Error',\n          description: 'You do not have permission to save settings.',\n        });\n      } else {\n        setError('Could not save your API key. Please check your connection and try again.');\n        toast({\n          variant: 'destructive',\n          title: 'Error',\n          description: 'Failed to save API key. Please try again.',\n        });\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>Enter Gemini API Key</DialogTitle>\n          <DialogDescription>\n            To use the AI assistant, please provide your Gemini API key. This will be stored securely and used only for your requests.\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"grid gap-4 py-4\">\n          <Input\n            id=\"apiKey\"\n            placeholder=\"Enter your Gemini API key\"\n            value={apiKey}\n            onChange={(e) => setApiKey(e.target.value)}\n            type=\"password\"\n            disabled={isLoading}\n          />\n          {error && <p className=\"text-sm text-destructive\">{error}</p>}\n        </div>\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={onClose} disabled={isLoading}>Cancel</Button>\n          <Button onClick={handleVerify} disabled={isLoading || !apiKey}>\n            {isLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : null}\n            {isLoading ? 'Verifying...' : 'Verify & Continue'}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAhBA;;;;;;;;;;AA2BA;;;;CAIC,GACD,eAAe,eAAe,MAAc;IACxC,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI,IAAI,OAAO;IAEtC,2BAA2B;IAC3B,IAAI,CAAC,OAAO,UAAU,CAAC,WAAW,OAAO,MAAM,GAAG,IAAI;QAClD,OAAO;IACX;IAEA,IAAI;QACA,+CAA+C;QAC/C,MAAM,WAAW,MAAM,MAAM,2DAA2D;YACpF,QAAQ;YACR,SAAS;gBACL,kBAAkB;YACtB;QACJ;QAEA,OAAO,SAAS,EAAE;IACtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,OAAO;IACX;AACJ;AAGe,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,aAAa,EAAoB;IAC9F,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ;IAC1B,MAAM,YAAY,IAAA,4IAAY;IAE9B,MAAM,eAAe;QACnB,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,UAAU,MAAM,eAAe;YAErC,IAAI,CAAC,SAAS;gBACZ,SAAS;gBACT,aAAa;gBACb;YACF;YAEA,0CAA0C;YAC1C,MAAM,kBAAkB,IAAA,wKAAG,EAAC,WAAW,CAAC,MAAM,EAAE,OAAO,gBAAgB,CAAC;YAExE,MAAM,IAAA,2KAAM,EAAC,iBAAiB;gBAC5B;gBACA,WAAW,IAAI,OAAO,WAAW;YACnC,GAAG;gBAAE,OAAO;YAAK;YAEjB,MAAM;gBACJ,OAAO;gBACP,aAAa;YACf;YAEA;QACF,EAAE,OAAO,GAAQ;YACf,QAAQ,KAAK,CAAC,4BAA4B;YAE1C,IAAI,EAAE,IAAI,KAAK,qBAAqB;gBAClC,SAAS;gBACT,MAAM;oBACJ,SAAS;oBACT,OAAO;oBACP,aAAa;gBACf;YACF,OAAO;gBACL,SAAS;gBACT,MAAM;oBACJ,SAAS;oBACT,OAAO;oBACP,aAAa;gBACf;YACF;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,8OAAC,mJAAa;YAAC,WAAU;;8BACvB,8OAAC,kJAAY;;sCACX,8OAAC,iJAAW;sCAAC;;;;;;sCACb,8OAAC,uJAAiB;sCAAC;;;;;;;;;;;;8BAIrB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,0IAAK;4BACJ,IAAG;4BACH,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4BACzC,MAAK;4BACL,UAAU;;;;;;wBAEX,uBAAS,8OAAC;4BAAE,WAAU;sCAA4B;;;;;;;;;;;;8BAErD,8OAAC,kJAAY;;sCACX,8OAAC,4IAAM;4BAAC,SAAQ;4BAAU,SAAS;4BAAS,UAAU;sCAAW;;;;;;sCACjE,8OAAC,4IAAM;4BAAC,SAAS;4BAAc,UAAU,aAAa,CAAC;;gCACpD,0BAAY,8OAAC,4NAAO;oCAAC,WAAU;;;;;2CAAiC;gCAChE,YAAY,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAM1C","debugId":null}},
    {"offset": {"line": 1963, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/dashboard/assistant-sidebar-new.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetDescription, SheetFooter } from '@/components/ui/sheet';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Bot, Loader2, Send, Paperclip, Trash2, KeyRound, CheckCircle2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { Avatar, AvatarFallback, AvatarImage } from '../ui/avatar';\nimport { cn } from '@/lib/utils';\nimport { useUser, useFirestore, useCollection, useMemoFirebase } from '@/firebase';\nimport { saveChatMessage, clearChatHistory } from '@/firebase/firestore/chat';\nimport { collection, query, orderBy, Timestamp, doc, onSnapshot } from 'firebase/firestore';\nimport { format } from 'date-fns';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '../ui/alert-dialog';\nimport ImageUploadCard from './image-upload-card';\nimport { useImageUploader } from '@/hooks/use-image-uploader';\nimport { editHtmlWithLLM, answerQuestionAboutHtml } from '@/services/llm/html-editor-agent';\nimport { applyPartialEdit, sanitizeHtml, type ModificationType } from '@/services/llm/html-parser';\nimport ApiKeyModal from './api-key-modal';\n\n/**\n * Determine if user instruction requires HTML modification or just a question\n */\nfunction isModificationRequest(instruction: string): boolean {\n  const modificationKeywords = [\n    'change', 'modify', 'edit', 'update', 'replace', 'add', 'insert',\n    'remove', 'delete', 'move', 'rewrite', 'fix', 'correct',\n    'make', 'create', 'put', 'place', 'set',\n  ];\n\n  const lowerInstruction = instruction.toLowerCase();\n  return modificationKeywords.some(keyword => lowerInstruction.includes(keyword));\n}\n\ntype Note = {\n  id: string;\n  title: string;\n  description: string;\n  week: number;\n  lesson: number;\n  tags: string[];\n  dateAdded: string;\n  readTime: string;\n  htmlFile: string;\n};\n\ntype AssistantSidebarProps = {\n  isOpen: boolean;\n  onClose: () => void;\n  note: Note;\n  currentHtmlContent: string;\n  onHtmlContentUpdate: (newHtml: string) => void;\n};\n\ntype Message = {\n    id: string;\n    role: 'user' | 'assistant';\n    content: string;\n    timestamp: Timestamp;\n    imageUrl?: string;\n}\n\nexport default function AssistantSidebarNew({ isOpen, onClose, note, currentHtmlContent, onHtmlContentUpdate }: AssistantSidebarProps) {\n  const [messages, setMessages] = React.useState<Message[]>([]);\n  const [input, setInput] = React.useState('');\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [isApiKeyModalOpen, setIsApiKeyModalOpen] = React.useState(false);\n  const [userApiKey, setUserApiKey] = React.useState<string | undefined>(undefined);\n  const { toast } = useToast();\n  const { user, isUserLoading } = useUser();\n  const firestore = useFirestore();\n  const fileInputRef = React.useRef<HTMLInputElement>(null);\n  const scrollAreaRef = React.useRef<HTMLDivElement>(null);\n  const scrollToBottom = React.useCallback(() => {\n    if (!scrollAreaRef.current) return;\n    const viewport = scrollAreaRef.current.querySelector('[data-radix-scroll-area-viewport]') as HTMLDivElement | null;\n    const el = viewport ?? scrollAreaRef.current;\n    try {\n      el.scrollTo({ top: el.scrollHeight, behavior: 'smooth' });\n    } catch {\n      // fallback for older browsers\n      el.scrollTop = el.scrollHeight;\n    }\n  }, []);\n  \n  // Track the current HTML content for LLM context\n  const currentHtmlRef = React.useRef(currentHtmlContent);\n  React.useEffect(() => {\n    currentHtmlRef.current = currentHtmlContent;\n  }, [currentHtmlContent]);\n  \n  const { imageUpload, uploadImage, cancelUpload } = useImageUploader(user?.uid || '', note.id, 'imgbb');\n\n  // Subscribe to user's saved Gemini API key\n  React.useEffect(() => {\n    if (!firestore || !user) return;\n    const ref = doc(firestore, `users/${user.uid}/settings/gemini`);\n    const unsub = onSnapshot(ref, (snap) => {\n      const data = snap.data() as any;\n      setUserApiKey(data?.apiKey);\n    });\n    return () => unsub();\n  }, [firestore, user]);\n\n  const chatHistoryQuery = useMemoFirebase(() => {\n    if (!user || !note) return null;\n    return query(collection(firestore, `users/${user.uid}/noteChats/${note.id}/messages`), orderBy('timestamp', 'asc'));\n  }, [firestore, user, note]);\n\n  const { data: chatHistory, isLoading: isHistoryLoading } = useCollection<Omit<Message, 'id'>>(chatHistoryQuery);\n\n   React.useEffect(() => {\n    if (chatHistory) {\n      setMessages(chatHistory);\n    }\n  }, [chatHistory]);\n\n  React.useEffect(() => {\n    // Only show welcome message if there's no chat history and we're not loading\n    if (isOpen && !isHistoryLoading && messages.length === 0 && !imageUpload && chatHistory && chatHistory.length === 0) {\n      const welcomeMessage = {\n        id: 'welcome',\n        role: 'assistant' as const,\n        content: `Hello! I'm your AI assistant for \"${note.title}\". Ask me anything about this note or ask me to edit it.\\n\\nI can help you:\\n Answer questions about the content\\n Modify specific parts of the note\\n Add images or links\\n Reorganize sections`,\n        timestamp: Timestamp.now()\n      };\n      setMessages([welcomeMessage]);\n    }\n  }, [isOpen, note.title, isHistoryLoading, messages.length, imageUpload, chatHistory]);\n  \n  React.useEffect(() => {\n    scrollToBottom();\n  }, [messages, imageUpload, isLoading, scrollToBottom]);\n\n  // When the assistant is opened, ensure we jump to the latest message\n  React.useEffect(() => {\n    if (isOpen) {\n      // wait a tick to let the sheet animate/render and then scroll\n      const id = window.requestAnimationFrame(scrollToBottom);\n      return () => window.cancelAnimationFrame(id);\n    }\n  }, [isOpen, scrollToBottom]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      uploadImage(file);\n    }\n    if(fileInputRef.current) {\n        fileInputRef.current.value = '';\n    }\n  };\n\n  const callAssistant = async (question: string, imageUrl?: string) => {\n    setIsLoading(true);\n    \n    if (!user || !firestore) {\n        toast({ variant: 'destructive', title: 'Authentication Error', description: 'Please log in to use the assistant.' });\n        setIsLoading(false);\n        return;\n    }\n\n    try {\n        // Save user message\n        await saveChatMessage(firestore, user.uid, note.id, 'user', question, imageUrl);\n\n        // Determine if this is a modification request or a question\n        const isModification = isModificationRequest(question);\n\n        let assistantResponse: string;\n        let htmlWasModified = false;\n\n        if (isModification) {\n            // Chat memory: include recent context\n            const history = messages.slice(-12).map(m => ({ role: m.role, content: m.content }));\n            const editResult = await editHtmlWithLLM({\n                currentHtml: currentHtmlRef.current,\n                userInstruction: question,\n                imageUrl,\n                apiKey: userApiKey,\n                conversationHistory: history,\n            });\n\n            if (editResult.success) {\n                let updatedHtml: string | null = null;\n                if (editResult.modifiedHtml) {\n                    updatedHtml = editResult.modifiedHtml;\n                } else if (editResult.modification) {\n                    const m = editResult.modification;\n                    try {\n                        const applied = await applyPartialEdit(\n                            currentHtmlRef.current,\n                            m.targetSelector,\n                            m.modificationType as ModificationType,\n                            m.newContent,\n                            {\n                                selector: m.targetSelector,\n                                textContent: (m as any).textContent,\n                                tagName: (m as any).tagName,\n                                index: (m as any).index,\n                            }\n                        );\n                        updatedHtml = sanitizeHtml(applied);\n                    } catch (e: any) {\n                        const msg = typeof e?.message === 'string' ? e.message : '';\n                        if (msg.includes('Target element not found')) {\n                            assistantResponse = 'I could not find the exact place to insert. Please specify a nearby heading or add a placeholder element with class \"diagram-placeholder\" and try again.';\n                        } else {\n                            assistantResponse = `I encountered an error while applying the edit: ${msg || 'Unknown error'}`;\n                        }\n                        updatedHtml = null;\n                    }\n                }\n\n                if (updatedHtml) {\n                    onHtmlContentUpdate(updatedHtml);\n                    htmlWasModified = true;\n                    assistantResponse = ` ${editResult.changeDescription || 'I\\'ve made the requested changes to your note.'}`;\n                } else {\n                    assistantResponse = `I encountered an error: ${editResult.error || 'No modification was returned.'}`;\n                }\n            } else {\n                assistantResponse = `I encountered an error: ${editResult.error || 'Could not modify the HTML.'}`;\n            }\n        } else {\n            // Answer question about the content\n            const history = messages.slice(-12).map(m => ({ role: m.role, content: m.content }));\n            assistantResponse = await answerQuestionAboutHtml(\n                currentHtmlRef.current,\n                question,\n                { apiKey: userApiKey, conversationHistory: history, imageUrl }\n            );\n        }\n\n        // Save assistant response\n        await saveChatMessage(firestore, user.uid, note.id, 'assistant', assistantResponse);\n\n        if (htmlWasModified) {\n            toast({\n                title: 'Changes Applied',\n                description: 'Your note has been updated. Changes are saved automatically.',\n            });\n        }\n    } catch (error: any) {\n        console.error(\"Assistant error:\", error);\n        \n        let errorMessage = \"Sorry, I encountered an error. Please try again.\";\n        let errorTitle = 'Assistant Error';\n        \n        if (error.message?.includes('timeout')) {\n            errorMessage = \"The request took too long. Please try again with a simpler question.\";\n            errorTitle = 'Timeout Error';\n        } else if (error.message?.includes('API')) {\n            errorMessage = \"There was an issue with the AI service. Please check your API key.\";\n            errorTitle = 'API Error';\n        }\n        \n        await saveChatMessage(firestore, user.uid, note.id, 'assistant', errorMessage);\n        toast({\n            variant: 'destructive',\n            title: errorTitle,\n            description: errorMessage\n        });\n    } finally {\n        setIsLoading(false);\n    }\n};\n\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n    const currentInput = input;\n    setInput('');\n    await callAssistant(currentInput);\n  };\n  \n  const handleImageInstructionSubmit = async (instruction: string) => {\n    if (!instruction.trim() || !imageUpload || imageUpload.status !== 'complete' || !imageUpload.downloadURL) return;\n    \n    const fullQuestion = instruction;\n    \n    // This will clear the card and re-enable the main input\n    cancelUpload();\n\n    await callAssistant(fullQuestion, imageUpload.downloadURL);\n};\n\n\n  const handleClearHistory = async () => {\n    if(!user || !firestore) return;\n    try {\n      await clearChatHistory(firestore, user.uid, note.id);\n      const welcomeMessage = {\n        id: 'welcome-cleared',\n        role: 'assistant' as const,\n        content: `Hello! I'm your AI assistant for \"${note.title}\". Ask me anything about this note or ask me to edit it.`,\n        timestamp: Timestamp.now()\n      };\n      setMessages([welcomeMessage]);\n       toast({ title: 'Chat history cleared' });\n    } catch(error) {\n       console.error(\"Failed to clear chat history:\", error);\n       toast({ variant: 'destructive', title: 'Error', description: 'Could not clear chat history.' });\n    }\n  }\n\n  const getInitials = (name?: string | null) => {\n    if (!name) return 'U';\n    const names = name.split(' ');\n    if (names.length > 1) {\n      return `${names[0][0]}${names[names.length - 1][0]}`.toUpperCase();\n    }\n    return name.substring(0, 2).toUpperCase();\n  }\n  \n  const isChatDisabled = isUserLoading || !user;\n\n  const prefill = (text: string) => {\n    if (isLoading || !!imageUpload || isChatDisabled) return;\n    setInput(text);\n  }\n\n  return (\n    <Sheet open={isOpen} onOpenChange={onClose}>\n      <SheetContent className=\"w-full sm:max-w-md flex flex-col p-0 bg-gradient-to-b from-rose-500/50 via-purple-500/50 to-sky-500/50 backdrop-blur-2xl supports-[backdrop-filter]:backdrop-blur-2xl\">\n        <SheetHeader className=\"p-6 border-b border-white/10 bg-gradient-to-r from-rose-500/40 via-purple-500/40 to-sky-500/40 backdrop-blur-2xl supports-[backdrop-filter]:backdrop-blur-2xl\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <div>\n              <SheetTitle>AI Assistant</SheetTitle>\n              <SheetDescription>Ask questions or request edits for '{note.title}'</SheetDescription>\n            </div>\n            <Button\n              variant={userApiKey ? 'default' : 'outline'}\n              size=\"sm\"\n              onClick={() => setIsApiKeyModalOpen(true)}\n              className={cn('gap-2', userApiKey ? 'bg-emerald-600 hover:bg-emerald-700 text-white' : '')}\n              disabled={isChatDisabled}\n            >\n              <KeyRound className=\"h-4 w-4\" />\n              {userApiKey ? 'Using your key' : 'Use your Gemini key'}\n              {userApiKey ? <CheckCircle2 className=\"h-4 w-4\" /> : null}\n            </Button>\n          </div>\n        </SheetHeader>\n        <ScrollArea className=\"flex-1\" ref={scrollAreaRef}>\n            <div className=\"space-y-6 p-4\">\n                {isHistoryLoading && <div className=\"flex justify-center p-4\"><Loader2 className=\"h-6 w-6 animate-spin\" /></div>}\n                {messages.map((message) => {\n                    const isWelcome = message.role === 'assistant' && (message.id?.startsWith('welcome') || message.content?.startsWith(\"Hello! I'm your AI assistant\"));\n                    if (isWelcome) {\n                      return (\n                        <div key={message.id} className=\"flex items-start gap-3\">\n                          <Avatar className=\"h-8 w-8\">\n                            <AvatarFallback><Bot className=\"h-5 w-5\" /></AvatarFallback>\n                          </Avatar>\n                          <div className=\"rounded-2xl p-4 md:p-5 max-w-sm bg-slate-900/70 ring-1 ring-white/10 shadow-xl backdrop-blur-2xl\">\n                            <p className=\"text-sm whitespace-pre-wrap mb-3\">{message.content.split('\\n\\n')[0]}</p>\n                            <div className=\"space-y-2\">\n                              <button onClick={() => prefill('What are the key points in this note?')} className=\"w-full text-left rounded-xl px-4 py-3 bg-gradient-to-r from-white/5 via-transparent to-white/5 hover:from-white/10 hover:to-white/10 ring-1 ring-white/10\">\n                                 Answer questions about the content\n                              </button>\n                              <button onClick={() => prefill('Modify the section about ... to be clearer.')} className=\"w-full text-left rounded-xl px-4 py-3 bg-gradient-to-r from-purple-500/10 to-pink-500/10 hover:from-purple-500/20 hover:to-pink-500/20 ring-1 ring-white/10\">\n                                 Modify specific parts of the note\n                              </button>\n                              <button onClick={() => prefill('Add an image illustrating ... and link it appropriately.')} className=\"w-full text-left rounded-xl px-4 py-3 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 hover:from-blue-500/20 hover:to-cyan-500/20 ring-1 ring-white/10\">\n                                 Add images or links\n                              </button>\n                              <button onClick={() => prefill('Reorganize sections to improve flow: ...')} className=\"w-full text-left rounded-xl px-4 py-3 bg-gradient-to-r from-emerald-500/10 to-teal-500/10 hover:from-emerald-500/20 hover:to-teal-500/20 ring-1 ring-white/10\">\n                                 Reorganize sections\n                              </button>\n                            </div>\n                            <p className=\"text-xs mt-3 opacity-60 text-right\">{message.timestamp ? format(message.timestamp.toDate(), 'p') : ''}</p>\n                          </div>\n                        </div>\n                      );\n                    }\n                    return (\n                      <div key={message.id} className={cn('flex items-start gap-3', message.role === 'user' ? 'justify-end' : '')}>\n                        {message.role === 'assistant' && (\n                          <Avatar className=\"h-8 w-8\">\n                            <AvatarFallback><Bot className=\"h-5 w-5\" /></AvatarFallback>\n                          </Avatar>\n                        )}\n                        <div className={cn('rounded-lg p-3 max-w-xs md:max-w-sm', message.role === 'user' ? 'bg-primary text-primary-foreground' : 'bg-slate-900/70 ring-1 ring-white/10 backdrop-blur-2xl')}> \n                          <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                          <p className=\"text-xs mt-2 opacity-60 text-right\">{message.timestamp ? format(message.timestamp.toDate(), 'p') : ''}</p>\n                        </div>\n                        {message.role === 'user' && (\n                          <Avatar className=\"h-8 w-8\">\n                            <AvatarImage src={user?.photoURL || ''} />\n                            <AvatarFallback>{getInitials(user?.displayName)}</AvatarFallback>\n                          </Avatar>\n                        )}\n                      </div>\n                    );\n                })}\n                 {(isLoading || isChatDisabled) && messages.length > 0 && messages[messages.length - 1].role === 'user' && (\n                    <div className=\"flex items-start gap-3\">\n                         <Avatar className=\"h-8 w-8\">\n                            <AvatarFallback><Bot className=\"h-5 w-5\" /></AvatarFallback>\n                        </Avatar>\n                         <div className=\"rounded-lg p-3 bg-muted flex items-center\">\n                            <Loader2 className=\"h-5 w-5 animate-spin\" />\n                         </div>\n                    </div>\n                 )}\n            </div>\n        </ScrollArea>\n        <SheetFooter className=\"p-4 border-t border-white/10 flex-col sm:flex-col sm:space-x-0 gap-4 bg-gradient-to-r from-rose-500/40 via-purple-500/40 to-sky-500/40 backdrop-blur-2xl supports-[backdrop-filter]:backdrop-blur-2xl\">\n          {imageUpload && (\n            <div className=\"flex items-start gap-3\">\n              <Avatar className=\"h-8 w-8\">\n                <AvatarFallback><Bot className=\"h-5 w-5\" /></AvatarFallback>\n              </Avatar>\n              <ImageUploadCard\n                upload={imageUpload}\n                onInstructionSubmit={handleImageInstructionSubmit}\n                onCancel={cancelUpload}\n              />\n            </div>\n          )}\n          <form onSubmit={handleSubmit} className=\"flex items-center gap-2\">\n            <input type=\"file\" ref={fileInputRef} onChange={handleFileChange} className=\"hidden\" accept=\"image/*\" />\n            <Button type=\"button\" variant=\"ghost\" size=\"icon\" onClick={() => fileInputRef.current?.click()} disabled={isLoading || !!imageUpload || isChatDisabled}>\n                <Paperclip className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Attach image</span>\n            </Button>\n            <Input\n              value={input}\n              onChange={(e) => setInput(e.target.value)}\n              placeholder=\"Ask a question or request an edit...\"\n              disabled={isLoading || !!imageUpload || isChatDisabled}\n              className=\"bg-slate-900/70 border-white/10 text-white placeholder:text-white/60 backdrop-blur-xl\"\n            />\n            <Button type=\"submit\" disabled={isLoading || !input.trim() || !!imageUpload || isChatDisabled} className=\"bg-gradient-to-r from-fuchsia-500 via-pink-500 to-amber-500 text-white hover:opacity-90\">\n                {isLoading ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4\" />}\n            </Button>\n          </form>\n           {messages.length > 1 && (\n            <div className=\"flex justify-center\">\n                <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                        <Button variant=\"outline\" size=\"sm\" disabled={isChatDisabled}>\n                            <Trash2 className=\"mr-2 h-4 w-4\" />\n                            Clear Chat\n                        </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                        <AlertDialogHeader>\n                            <AlertDialogTitle>Are you sure?</AlertDialogTitle>\n                            <AlertDialogDescription>\n                                This will permanently delete the chat history for this note. This action cannot be undone.\n                            </AlertDialogDescription>\n                        </AlertDialogHeader>\n                        <AlertDialogFooter>\n                            <AlertDialogCancel>Cancel</AlertDialogCancel>\n                            <AlertDialogAction onClick={handleClearHistory}>Confirm Clear</AlertDialogAction>\n                        </AlertDialogFooter>\n                    </AlertDialogContent>\n                </AlertDialog>\n            </div>\n           )}\n        </SheetFooter>\n        <ApiKeyModal\n          isOpen={isApiKeyModalOpen}\n          onClose={() => setIsApiKeyModalOpen(false)}\n          userId={user?.uid || ''}\n          onKeyVerified={() => setIsApiKeyModalOpen(false)}\n        />\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAnBA;;;;;;;;;;;;;;;;;;;;;AAqBA;;CAEC,GACD,SAAS,sBAAsB,WAAmB;IAChD,MAAM,uBAAuB;QAC3B;QAAU;QAAU;QAAQ;QAAU;QAAW;QAAO;QACxD;QAAU;QAAU;QAAQ;QAAW;QAAO;QAC9C;QAAQ;QAAU;QAAO;QAAS;KACnC;IAED,MAAM,mBAAmB,YAAY,WAAW;IAChD,OAAO,qBAAqB,IAAI,CAAC,CAAA,UAAW,iBAAiB,QAAQ,CAAC;AACxE;AA8Be,SAAS,oBAAoB,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,kBAAkB,EAAE,mBAAmB,EAAyB;IACnI,MAAM,CAAC,UAAU,YAAY,GAAG,iNAAc,CAAY,EAAE;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,iNAAc,CAAC;IACjD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,iNAAc,CAAC;IACjE,MAAM,CAAC,YAAY,cAAc,GAAG,iNAAc,CAAqB;IACvE,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,wIAAQ;IAC1B,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,GAAG,IAAA,uIAAO;IACvC,MAAM,YAAY,IAAA,4IAAY;IAC9B,MAAM,eAAe,+MAAY,CAAmB;IACpD,MAAM,gBAAgB,+MAAY,CAAiB;IACnD,MAAM,iBAAiB,oNAAiB,CAAC;QACvC,IAAI,CAAC,cAAc,OAAO,EAAE;QAC5B,MAAM,WAAW,cAAc,OAAO,CAAC,aAAa,CAAC;QACrD,MAAM,KAAK,YAAY,cAAc,OAAO;QAC5C,IAAI;YACF,GAAG,QAAQ,CAAC;gBAAE,KAAK,GAAG,YAAY;gBAAE,UAAU;YAAS;QACzD,EAAE,OAAM;YACN,8BAA8B;YAC9B,GAAG,SAAS,GAAG,GAAG,YAAY;QAChC;IACF,GAAG,EAAE;IAEL,iDAAiD;IACjD,MAAM,iBAAiB,+MAAY,CAAC;IACpC,kNAAe,CAAC;QACd,eAAe,OAAO,GAAG;IAC3B,GAAG;QAAC;KAAmB;IAEvB,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,EAAE,GAAG,IAAA,4JAAgB,EAAC,MAAM,OAAO,IAAI,KAAK,EAAE,EAAE;IAE9F,2CAA2C;IAC3C,kNAAe,CAAC;QACd,IAAI,CAAC,aAAa,CAAC,MAAM;QACzB,MAAM,MAAM,IAAA,wKAAG,EAAC,WAAW,CAAC,MAAM,EAAE,KAAK,GAAG,CAAC,gBAAgB,CAAC;QAC9D,MAAM,QAAQ,IAAA,+KAAU,EAAC,KAAK,CAAC;YAC7B,MAAM,OAAO,KAAK,IAAI;YACtB,cAAc,MAAM;QACtB;QACA,OAAO,IAAM;IACf,GAAG;QAAC;QAAW;KAAK;IAEpB,MAAM,mBAAmB,IAAA,+IAAe,EAAC;QACvC,IAAI,CAAC,QAAQ,CAAC,MAAM,OAAO;QAC3B,OAAO,IAAA,0KAAK,EAAC,IAAA,+KAAU,EAAC,WAAW,CAAC,MAAM,EAAE,KAAK,GAAG,CAAC,WAAW,EAAE,KAAK,EAAE,CAAC,SAAS,CAAC,GAAG,IAAA,4KAAO,EAAC,aAAa;IAC9G,GAAG;QAAC;QAAW;QAAM;KAAK;IAE1B,MAAM,EAAE,MAAM,WAAW,EAAE,WAAW,gBAAgB,EAAE,GAAG,IAAA,mKAAa,EAAsB;IAE7F,kNAAe,CAAC;QACf,IAAI,aAAa;YACf,YAAY;QACd;IACF,GAAG;QAAC;KAAY;IAEhB,kNAAe,CAAC;QACd,6EAA6E;QAC7E,IAAI,UAAU,CAAC,oBAAoB,SAAS,MAAM,KAAK,KAAK,CAAC,eAAe,eAAe,YAAY,MAAM,KAAK,GAAG;YACnH,MAAM,iBAAiB;gBACrB,IAAI;gBACJ,MAAM;gBACN,SAAS,CAAC,kCAAkC,EAAE,KAAK,KAAK,CAAC,oMAAoM,CAAC;gBAC9P,WAAW,8KAAS,CAAC,GAAG;YAC1B;YACA,YAAY;gBAAC;aAAe;QAC9B;IACF,GAAG;QAAC;QAAQ,KAAK,KAAK;QAAE;QAAkB,SAAS,MAAM;QAAE;QAAa;KAAY;IAEpF,kNAAe,CAAC;QACd;IACF,GAAG;QAAC;QAAU;QAAa;QAAW;KAAe;IAErD,qEAAqE;IACrE,kNAAe,CAAC;QACd,IAAI,QAAQ;YACV,8DAA8D;YAC9D,MAAM,KAAK,OAAO,qBAAqB,CAAC;YACxC,OAAO,IAAM,OAAO,oBAAoB,CAAC;QAC3C;IACF,GAAG;QAAC;QAAQ;KAAe;IAE3B,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,MAAM;YACR,YAAY;QACd;QACA,IAAG,aAAa,OAAO,EAAE;YACrB,aAAa,OAAO,CAAC,KAAK,GAAG;QACjC;IACF;IAEA,MAAM,gBAAgB,OAAO,UAAkB;QAC7C,aAAa;QAEb,IAAI,CAAC,QAAQ,CAAC,WAAW;YACrB,MAAM;gBAAE,SAAS;gBAAe,OAAO;gBAAwB,aAAa;YAAsC;YAClH,aAAa;YACb;QACJ;QAEA,IAAI;YACA,oBAAoB;YACpB,MAAM,IAAA,uJAAe,EAAC,WAAW,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,QAAQ,UAAU;YAEtE,4DAA4D;YAC5D,MAAM,iBAAiB,sBAAsB;YAE7C,IAAI;YACJ,IAAI,kBAAkB;YAEtB,IAAI,gBAAgB;gBAChB,sCAAsC;gBACtC,MAAM,UAAU,SAAS,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAA,IAAK,CAAC;wBAAE,MAAM,EAAE,IAAI;wBAAE,SAAS,EAAE,OAAO;oBAAC,CAAC;gBAClF,MAAM,aAAa,MAAM,IAAA,iLAAe,EAAC;oBACrC,aAAa,eAAe,OAAO;oBACnC,iBAAiB;oBACjB;oBACA,QAAQ;oBACR,qBAAqB;gBACzB;gBAEA,IAAI,WAAW,OAAO,EAAE;oBACpB,IAAI,cAA6B;oBACjC,IAAI,WAAW,YAAY,EAAE;wBACzB,cAAc,WAAW,YAAY;oBACzC,OAAO,IAAI,WAAW,YAAY,EAAE;wBAChC,MAAM,IAAI,WAAW,YAAY;wBACjC,IAAI;4BACA,MAAM,UAAU,MAAM,IAAA,4JAAgB,EAClC,eAAe,OAAO,EACtB,EAAE,cAAc,EAChB,EAAE,gBAAgB,EAClB,EAAE,UAAU,EACZ;gCACI,UAAU,EAAE,cAAc;gCAC1B,aAAa,AAAC,EAAU,WAAW;gCACnC,SAAS,AAAC,EAAU,OAAO;gCAC3B,OAAO,AAAC,EAAU,KAAK;4BAC3B;4BAEJ,cAAc,IAAA,wJAAY,EAAC;wBAC/B,EAAE,OAAO,GAAQ;4BACb,MAAM,MAAM,OAAO,GAAG,YAAY,WAAW,EAAE,OAAO,GAAG;4BACzD,IAAI,IAAI,QAAQ,CAAC,6BAA6B;gCAC1C,oBAAoB;4BACxB,OAAO;gCACH,oBAAoB,CAAC,gDAAgD,EAAE,OAAO,iBAAiB;4BACnG;4BACA,cAAc;wBAClB;oBACJ;oBAEA,IAAI,aAAa;wBACb,oBAAoB;wBACpB,kBAAkB;wBAClB,oBAAoB,CAAC,EAAE,EAAE,WAAW,iBAAiB,IAAI,kDAAkD;oBAC/G,OAAO;wBACH,oBAAoB,CAAC,wBAAwB,EAAE,WAAW,KAAK,IAAI,iCAAiC;oBACxG;gBACJ,OAAO;oBACH,oBAAoB,CAAC,wBAAwB,EAAE,WAAW,KAAK,IAAI,8BAA8B;gBACrG;YACJ,OAAO;gBACH,oCAAoC;gBACpC,MAAM,UAAU,SAAS,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,CAAA,IAAK,CAAC;wBAAE,MAAM,EAAE,IAAI;wBAAE,SAAS,EAAE,OAAO;oBAAC,CAAC;gBAClF,oBAAoB,MAAM,IAAA,yLAAuB,EAC7C,eAAe,OAAO,EACtB,UACA;oBAAE,QAAQ;oBAAY,qBAAqB;oBAAS;gBAAS;YAErE;YAEA,0BAA0B;YAC1B,MAAM,IAAA,uJAAe,EAAC,WAAW,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,aAAa;YAEjE,IAAI,iBAAiB;gBACjB,MAAM;oBACF,OAAO;oBACP,aAAa;gBACjB;YACJ;QACJ,EAAE,OAAO,OAAY;YACjB,QAAQ,KAAK,CAAC,oBAAoB;YAElC,IAAI,eAAe;YACnB,IAAI,aAAa;YAEjB,IAAI,MAAM,OAAO,EAAE,SAAS,YAAY;gBACpC,eAAe;gBACf,aAAa;YACjB,OAAO,IAAI,MAAM,OAAO,EAAE,SAAS,QAAQ;gBACvC,eAAe;gBACf,aAAa;YACjB;YAEA,MAAM,IAAA,uJAAe,EAAC,WAAW,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,aAAa;YACjE,MAAM;gBACF,SAAS;gBACT,OAAO;gBACP,aAAa;YACjB;QACJ,SAAU;YACN,aAAa;QACjB;IACJ;IAGE,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,MAAM,IAAI,MAAM,WAAW;QAChC,MAAM,eAAe;QACrB,SAAS;QACT,MAAM,cAAc;IACtB;IAEA,MAAM,+BAA+B,OAAO;QAC1C,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,eAAe,YAAY,MAAM,KAAK,cAAc,CAAC,YAAY,WAAW,EAAE;QAE1G,MAAM,eAAe;QAErB,wDAAwD;QACxD;QAEA,MAAM,cAAc,cAAc,YAAY,WAAW;IAC7D;IAGE,MAAM,qBAAqB;QACzB,IAAG,CAAC,QAAQ,CAAC,WAAW;QACxB,IAAI;YACF,MAAM,IAAA,wJAAgB,EAAC,WAAW,KAAK,GAAG,EAAE,KAAK,EAAE;YACnD,MAAM,iBAAiB;gBACrB,IAAI;gBACJ,MAAM;gBACN,SAAS,CAAC,kCAAkC,EAAE,KAAK,KAAK,CAAC,wDAAwD,CAAC;gBAClH,WAAW,8KAAS,CAAC,GAAG;YAC1B;YACA,YAAY;gBAAC;aAAe;YAC3B,MAAM;gBAAE,OAAO;YAAuB;QACzC,EAAE,OAAM,OAAO;YACZ,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,MAAM;gBAAE,SAAS;gBAAe,OAAO;gBAAS,aAAa;YAAgC;QAChG;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,IAAI,CAAC,MAAM,OAAO;QAClB,MAAM,QAAQ,KAAK,KAAK,CAAC;QACzB,IAAI,MAAM,MAAM,GAAG,GAAG;YACpB,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC,MAAM,MAAM,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,WAAW;QAClE;QACA,OAAO,KAAK,SAAS,CAAC,GAAG,GAAG,WAAW;IACzC;IAEA,MAAM,iBAAiB,iBAAiB,CAAC;IAEzC,MAAM,UAAU,CAAC;QACf,IAAI,aAAa,CAAC,CAAC,eAAe,gBAAgB;QAClD,SAAS;IACX;IAEA,qBACE,8OAAC,0IAAK;QAAC,MAAM;QAAQ,cAAc;kBACjC,cAAA,8OAAC,iJAAY;YAAC,WAAU;;8BACtB,8OAAC,gJAAW;oBAAC,WAAU;8BACrB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC,+IAAU;kDAAC;;;;;;kDACZ,8OAAC,qJAAgB;;4CAAC;4CAAqC,KAAK,KAAK;4CAAC;;;;;;;;;;;;;0CAEpE,8OAAC,4IAAM;gCACL,SAAS,aAAa,YAAY;gCAClC,MAAK;gCACL,SAAS,IAAM,qBAAqB;gCACpC,WAAW,IAAA,yHAAE,EAAC,SAAS,aAAa,mDAAmD;gCACvF,UAAU;;kDAEV,8OAAC,0NAAQ;wCAAC,WAAU;;;;;;oCACnB,aAAa,mBAAmB;oCAChC,2BAAa,8OAAC,qOAAY;wCAAC,WAAU;;;;;+CAAe;;;;;;;;;;;;;;;;;;8BAI3D,8OAAC,wJAAU;oBAAC,WAAU;oBAAS,KAAK;8BAChC,cAAA,8OAAC;wBAAI,WAAU;;4BACV,kCAAoB,8OAAC;gCAAI,WAAU;0CAA0B,cAAA,8OAAC,4NAAO;oCAAC,WAAU;;;;;;;;;;;4BAChF,SAAS,GAAG,CAAC,CAAC;gCACX,MAAM,YAAY,QAAQ,IAAI,KAAK,eAAe,CAAC,QAAQ,EAAE,EAAE,WAAW,cAAc,QAAQ,OAAO,EAAE,WAAW,+BAA+B;gCACnJ,IAAI,WAAW;oCACb,qBACE,8OAAC;wCAAqB,WAAU;;0DAC9B,8OAAC,4IAAM;gDAAC,WAAU;0DAChB,cAAA,8OAAC,oJAAc;8DAAC,cAAA,8OAAC,uMAAG;wDAAC,WAAU;;;;;;;;;;;;;;;;0DAEjC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAE,WAAU;kEAAoC,QAAQ,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;;;;;;kEACjF,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAO,SAAS,IAAM,QAAQ;gEAA0C,WAAU;0EAA4J;;;;;;0EAG/O,8OAAC;gEAAO,SAAS,IAAM,QAAQ;gEAAgD,WAAU;0EAA8J;;;;;;0EAGvP,8OAAC;gEAAO,SAAS,IAAM,QAAQ;gEAA6D,WAAU;0EAA0J;;;;;;0EAGhQ,8OAAC;gEAAO,SAAS,IAAM,QAAQ;gEAA6C,WAAU;0EAAgK;;;;;;;;;;;;kEAIxP,8OAAC;wDAAE,WAAU;kEAAsC,QAAQ,SAAS,GAAG,IAAA,gKAAM,EAAC,QAAQ,SAAS,CAAC,MAAM,IAAI,OAAO;;;;;;;;;;;;;uCApB3G,QAAQ,EAAE;;;;;gCAwBxB;gCACA,qBACE,8OAAC;oCAAqB,WAAW,IAAA,yHAAE,EAAC,0BAA0B,QAAQ,IAAI,KAAK,SAAS,gBAAgB;;wCACrG,QAAQ,IAAI,KAAK,6BAChB,8OAAC,4IAAM;4CAAC,WAAU;sDAChB,cAAA,8OAAC,oJAAc;0DAAC,cAAA,8OAAC,uMAAG;oDAAC,WAAU;;;;;;;;;;;;;;;;sDAGnC,8OAAC;4CAAI,WAAW,IAAA,yHAAE,EAAC,uCAAuC,QAAQ,IAAI,KAAK,SAAS,uCAAuC;;8DACzH,8OAAC;oDAAE,WAAU;8DAA+B,QAAQ,OAAO;;;;;;8DAC3D,8OAAC;oDAAE,WAAU;8DAAsC,QAAQ,SAAS,GAAG,IAAA,gKAAM,EAAC,QAAQ,SAAS,CAAC,MAAM,IAAI,OAAO;;;;;;;;;;;;wCAElH,QAAQ,IAAI,KAAK,wBAChB,8OAAC,4IAAM;4CAAC,WAAU;;8DAChB,8OAAC,iJAAW;oDAAC,KAAK,MAAM,YAAY;;;;;;8DACpC,8OAAC,oJAAc;8DAAE,YAAY,MAAM;;;;;;;;;;;;;mCAb/B,QAAQ,EAAE;;;;;4BAkB1B;4BACE,CAAC,aAAa,cAAc,KAAK,SAAS,MAAM,GAAG,KAAK,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,IAAI,KAAK,wBAC7F,8OAAC;gCAAI,WAAU;;kDACV,8OAAC,4IAAM;wCAAC,WAAU;kDACf,cAAA,8OAAC,oJAAc;sDAAC,cAAA,8OAAC,uMAAG;gDAAC,WAAU;;;;;;;;;;;;;;;;kDAElC,8OAAC;wCAAI,WAAU;kDACZ,cAAA,8OAAC,4NAAO;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAMvC,8OAAC,gJAAW;oBAAC,WAAU;;wBACpB,6BACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCAAC,WAAU;8CAChB,cAAA,8OAAC,oJAAc;kDAAC,cAAA,8OAAC,uMAAG;4CAAC,WAAU;;;;;;;;;;;;;;;;8CAEjC,8OAAC,qKAAe;oCACd,QAAQ;oCACR,qBAAqB;oCACrB,UAAU;;;;;;;;;;;;sCAIhB,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;8CACtC,8OAAC;oCAAM,MAAK;oCAAO,KAAK;oCAAc,UAAU;oCAAkB,WAAU;oCAAS,QAAO;;;;;;8CAC5F,8OAAC,4IAAM;oCAAC,MAAK;oCAAS,SAAQ;oCAAQ,MAAK;oCAAO,SAAS,IAAM,aAAa,OAAO,EAAE;oCAAS,UAAU,aAAa,CAAC,CAAC,eAAe;;sDACpI,8OAAC,yNAAS;4CAAC,WAAU;;;;;;sDACrB,8OAAC;4CAAK,WAAU;sDAAU;;;;;;;;;;;;8CAE9B,8OAAC,0IAAK;oCACJ,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,aAAY;oCACZ,UAAU,aAAa,CAAC,CAAC,eAAe;oCACxC,WAAU;;;;;;8CAEZ,8OAAC,4IAAM;oCAAC,MAAK;oCAAS,UAAU,aAAa,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,eAAe;oCAAgB,WAAU;8CACpG,0BAAY,8OAAC,4NAAO;wCAAC,WAAU;;;;;6DAA4B,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;wBAGhF,SAAS,MAAM,GAAG,mBAClB,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,0JAAW;;kDACR,8OAAC,iKAAkB;wCAAC,OAAO;kDACvB,cAAA,8OAAC,4IAAM;4CAAC,SAAQ;4CAAU,MAAK;4CAAK,UAAU;;8DAC1C,8OAAC,oNAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;kDAI3C,8OAAC,iKAAkB;;0DACf,8OAAC,gKAAiB;;kEACd,8OAAC,+JAAgB;kEAAC;;;;;;kEAClB,8OAAC,qKAAsB;kEAAC;;;;;;;;;;;;0DAI5B,8OAAC,gKAAiB;;kEACd,8OAAC,gKAAiB;kEAAC;;;;;;kEACnB,8OAAC,gKAAiB;wDAAC,SAAS;kEAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOpE,8OAAC,iKAAW;oBACV,QAAQ;oBACR,SAAS,IAAM,qBAAqB;oBACpC,QAAQ,MAAM,OAAO;oBACrB,eAAe,IAAM,qBAAqB;;;;;;;;;;;;;;;;;AAKpD","debugId":null}},
    {"offset": {"line": 2893, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 2916, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/auth/auth-guard.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useUser } from '@/firebase';\nimport { Skeleton } from '@/components/ui/skeleton';\n\ninterface AuthGuardProps {\n  children: React.ReactNode;\n}\n\n/**\n * AuthGuard component that protects routes requiring authentication\n * Redirects unauthenticated users to sign-in page with return URL\n */\nexport function AuthGuard({ children }: AuthGuardProps) {\n  const { user, isUserLoading } = useUser();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    if (!isUserLoading && !user) {\n      // Store the intended destination for post-login redirect\n      const returnUrl = encodeURIComponent(pathname);\n      router.push(`/signin?returnUrl=${returnUrl}`);\n    }\n  }, [user, isUserLoading, router, pathname]);\n\n  // Show loading skeleton while checking auth state\n  if (isUserLoading) {\n    return (\n      <div className=\"flex h-screen w-full bg-background\">\n        <div className=\"hidden md:block w-64 border-r p-4\">\n          <Skeleton className=\"h-8 w-32 mb-8\" />\n          <div className=\"space-y-4\">\n            <Skeleton className=\"h-10 w-full\" />\n            <Skeleton className=\"h-10 w-full\" />\n            <Skeleton className=\"h-10 w-full\" />\n            <Skeleton className=\"h-10 w-full\" />\n          </div>\n        </div>\n        <div className=\"flex-1 p-8\">\n          <Skeleton className=\"h-12 w-1/3 mb-8\" />\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <Skeleton className=\"h-48 w-full\" />\n            <Skeleton className=\"h-48 w-full\" />\n            <Skeleton className=\"h-48 w-full\" />\n            <Skeleton className=\"h-48 w-full\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Don't render children if user is not authenticated (redirect in progress)\n  if (!user) {\n    return null;\n  }\n\n  // User is authenticated, render protected content\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAeO,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,GAAG,IAAA,uIAAO;IACvC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAE5B,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,iBAAiB,CAAC,MAAM;YAC3B,yDAAyD;YACzD,MAAM,YAAY,mBAAmB;YACrC,OAAO,IAAI,CAAC,CAAC,kBAAkB,EAAE,WAAW;QAC9C;IACF,GAAG;QAAC;QAAM;QAAe;QAAQ;KAAS;IAE1C,kDAAkD;IAClD,IAAI,eAAe;QACjB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,gJAAQ;4BAAC,WAAU;;;;;;sCACpB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;8BAGxB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,gJAAQ;4BAAC,WAAU;;;;;;sCACpB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;8CACpB,8OAAC,gJAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;IAK9B;IAEA,4EAA4E;IAC5E,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,kDAAkD;IAClD,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 3079, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/services/firebase/html-storage.ts"],"sourcesContent":["'use client';\nimport { getApp } from 'firebase/app';\nimport { getFirestore, doc, setDoc, getDoc, deleteDoc, collection, getDocs, serverTimestamp } from 'firebase/firestore';\n\nexport interface ModifiedHtmlMetadata {\n  userId: string;\n  week: string;\n  lectureId: string;\n  lastModified: number;\n}\n\n/**\n * Save modified HTML to Firebase Storage\n * Path: users/{userId}/modified-notes/{week}/{lectureId}.html\n */\nexport async function saveModifiedHtml(\n  userId: string,\n  week: string,\n  lectureId: string,\n  htmlContent: string\n): Promise<string> {\n  try {\n    const app = getApp();\n    const firestore = getFirestore(app);\n    const docRef = doc(firestore, `users/${userId}/notes/${lectureId}`);\n    await setDoc(docRef, {\n      modifiedHtml: htmlContent,\n      lastModified: serverTimestamp(),\n    });\n    // Return the document path for compatibility with previous string return type\n    return docRef.path;\n  } catch (error) {\n    console.error('Error saving modified HTML:', error);\n    throw new Error(`Failed to save modified HTML: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Load user's modified HTML from Firebase Storage\n * Returns null if no modified version exists\n */\nexport async function loadModifiedHtml(\n  userId: string,\n  week: string,\n  lectureId: string\n): Promise<string | null> {\n  try {\n    const app = getApp();\n    const firestore = getFirestore(app);\n    const docRef = doc(firestore, `users/${userId}/notes/${lectureId}`);\n    const snapshot = await getDoc(docRef);\n    if (!snapshot.exists()) {\n      return null;\n    }\n    const data = snapshot.data();\n    if (typeof data?.modifiedHtml === 'string') {\n      return data.modifiedHtml as string;\n    }\n    return null;\n  } catch (error: any) {\n    console.error('Error loading modified HTML:', error);\n    return null;\n  }\n}\n\n/**\n * Check if modified version exists for this user\n * Note: This just attempts to load - if it fails, file doesn't exist\n */\nexport async function hasModifiedVersion(\n  userId: string,\n  week: string,\n  lectureId: string\n): Promise<boolean> {\n  try {\n    const html = await loadModifiedHtml(userId, week, lectureId);\n    return html !== null;\n  } catch (error: any) {\n    return false;\n  }\n}\n\n/**\n * Delete user's modified version (reset to original)\n */\nexport async function deleteModifiedHtml(\n  userId: string,\n  week: string,\n  lectureId: string\n): Promise<void> {\n  try {\n    const app = getApp();\n    const firestore = getFirestore(app);\n    const docRef = doc(firestore, `users/${userId}/notes/${lectureId}`);\n    await deleteDoc(docRef);\n  } catch (error: any) {\n    console.error('Error deleting modified HTML:', error);\n    throw new Error(`Failed to delete modified HTML: ${error.message}`);\n  }\n}\n\n/**\n * Load original HTML from codebase\n * Path: /notes/{course}/{lectureId}.html\n */\nexport async function loadOriginalHtml(\n  course: string,\n  week: string,\n  lectureId: string\n): Promise<string> {\n  try {\n    // Files are stored as /notes/{course}/{lectureId}.html (no week folder)\n    const filePath = `/notes/${course}/${encodeURIComponent(lectureId)}.html`;\n    const response = await fetch(filePath, {\n      cache: 'force-cache', // Cache original HTML files\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    const htmlContent = await response.text();\n    return htmlContent;\n  } catch (error) {\n    console.error('Error loading original HTML:', error);\n    throw new Error(`Failed to load original HTML: ${error instanceof Error ? error.message : 'Unknown error'}`);\n  }\n}\n\n/**\n * Get all modified notes for a user\n */\nexport async function listModifiedNotes(userId: string): Promise<ModifiedHtmlMetadata[]> {\n  try {\n    const app = getApp();\n    const firestore = getFirestore(app);\n    const notesCol = collection(firestore, `users/${userId}/notes`);\n    const snapshot = await getDocs(notesCol);\n    const metadata: ModifiedHtmlMetadata[] = [];\n    snapshot.forEach((docSnap) => {\n      const data = docSnap.data() as any;\n      const lm = data?.lastModified && typeof data.lastModified.toMillis === 'function'\n        ? data.lastModified.toMillis()\n        : Date.now();\n      metadata.push({\n        userId,\n        week: '',\n        lectureId: docSnap.id,\n        lastModified: lm,\n      });\n    });\n    return metadata;\n  } catch (error) {\n    console.error('Error listing modified notes:', error);\n    return [];\n  }\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3198, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/hooks/use-note-preview.ts"],"sourcesContent":["'use client';\nimport { useState, useEffect, useCallback } from 'react';\nimport { loadModifiedHtml, loadOriginalHtml } from '@/services/firebase/html-storage';\n\nexport interface NotePreviewState {\n  htmlContent: string | null;\n  isModified: boolean;\n  loading: boolean;\n  error: string | null;\n}\n\nexport interface NotePreviewActions {\n  reload: () => Promise<void>;\n  updateHtml: (newHtml: string) => void;\n}\n\n/**\n * Hook for managing note preview with cascading load logic\n * \n * Load Priority:\n * 1. Check Firebase Storage for user's modified version\n * 2. If not found, load original from codebase\n * \n * @param userId - Current user ID\n * @param course - Course identifier (e.g., 'fsp', 'ata')\n * @param week - Week identifier (e.g., 'week1')\n * @param lectureId - Lecture identifier (e.g., 'FSPW1')\n */\nexport function useNotePreview(\n  userId: string | undefined,\n  course: string,\n  week: string,\n  lectureId: string\n): NotePreviewState & NotePreviewActions {\n  const [state, setState] = useState<NotePreviewState>({\n    htmlContent: null,\n    isModified: false,\n    loading: true,\n    error: null,\n  });\n\n  const loadHtmlContent = useCallback(async () => {\n    if (!userId) {\n      // Don't set error - just stay in loading state until user is available\n      setState({\n        htmlContent: null,\n        isModified: false,\n        loading: true,\n        error: null,\n      });\n      return;\n    }\n\n    setState(prev => ({ ...prev, loading: true, error: null }));\n\n    try {\n      // Try to load modified version first (will return null if doesn't exist)\n      const modifiedHtml = await loadModifiedHtml(userId, week, lectureId);\n      \n      if (modifiedHtml) {\n        setState({\n          htmlContent: modifiedHtml,\n          isModified: true,\n          loading: false,\n          error: null,\n        });\n        return;\n      }\n\n      // Fall back to original from codebase\n      const originalHtml = await loadOriginalHtml(course, week, lectureId);\n      \n      setState({\n        htmlContent: originalHtml,\n        isModified: false,\n        loading: false,\n        error: null,\n      });\n    } catch (error) {\n      console.error('Error loading note preview:', error);\n      setState({\n        htmlContent: null,\n        isModified: false,\n        loading: false,\n        error: error instanceof Error ? error.message : 'Failed to load note',\n      });\n    }\n  }, [userId, course, week, lectureId]);\n\n  // Load HTML content on mount and when dependencies change\n  useEffect(() => {\n    loadHtmlContent();\n  }, [loadHtmlContent]);\n\n  // Function to reload content\n  const reload = useCallback(async () => {\n    await loadHtmlContent();\n  }, [loadHtmlContent]);\n\n  // Function to update HTML content in state (without saving)\n  const updateHtml = useCallback((newHtml: string) => {\n    setState(prev => ({\n      ...prev,\n      htmlContent: newHtml,\n      isModified: true,\n    }));\n  }, []);\n\n  return {\n    ...state,\n    reload,\n    updateHtml,\n  };\n}\n\n/**\n * Cache for original HTML files (they never change)\n */\nconst originalHtmlCache = new Map<string, string>();\n\n/**\n * Load original HTML with caching\n */\nexport async function loadOriginalHtmlCached(\n  course: string,\n  week: string,\n  lectureId: string\n): Promise<string> {\n  const cacheKey = `${course}/${week}/${lectureId}`;\n  \n  // Check cache first\n  if (originalHtmlCache.has(cacheKey)) {\n    return originalHtmlCache.get(cacheKey)!;\n  }\n\n  // Load from file\n  const html = await loadOriginalHtml(course, week, lectureId);\n  \n  // Cache it\n  originalHtmlCache.set(cacheKey, html);\n  \n  return html;\n}\n\n/**\n * Clear the original HTML cache (useful for development)\n */\nexport function clearOriginalHtmlCache(): void {\n  originalHtmlCache.clear();\n}\n"],"names":[],"mappings":";;;;;;;;AACA;AACA;AAFA;;;AA4BO,SAAS,eACd,MAA0B,EAC1B,MAAc,EACd,IAAY,EACZ,SAAiB;IAEjB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAmB;QACnD,aAAa;QACb,YAAY;QACZ,SAAS;QACT,OAAO;IACT;IAEA,MAAM,kBAAkB,IAAA,oNAAW,EAAC;QAClC,IAAI,CAAC,QAAQ;YACX,uEAAuE;YACvE,SAAS;gBACP,aAAa;gBACb,YAAY;gBACZ,SAAS;gBACT,OAAO;YACT;YACA;QACF;QAEA,SAAS,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,SAAS;gBAAM,OAAO;YAAK,CAAC;QAEzD,IAAI;YACF,yEAAyE;YACzE,MAAM,eAAe,MAAM,IAAA,kKAAgB,EAAC,QAAQ,MAAM;YAE1D,IAAI,cAAc;gBAChB,SAAS;oBACP,aAAa;oBACb,YAAY;oBACZ,SAAS;oBACT,OAAO;gBACT;gBACA;YACF;YAEA,sCAAsC;YACtC,MAAM,eAAe,MAAM,IAAA,kKAAgB,EAAC,QAAQ,MAAM;YAE1D,SAAS;gBACP,aAAa;gBACb,YAAY;gBACZ,SAAS;gBACT,OAAO;YACT;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,SAAS;gBACP,aAAa;gBACb,YAAY;gBACZ,SAAS;gBACT,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAClD;QACF;IACF,GAAG;QAAC;QAAQ;QAAQ;QAAM;KAAU;IAEpC,0DAA0D;IAC1D,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAgB;IAEpB,6BAA6B;IAC7B,MAAM,SAAS,IAAA,oNAAW,EAAC;QACzB,MAAM;IACR,GAAG;QAAC;KAAgB;IAEpB,4DAA4D;IAC5D,MAAM,aAAa,IAAA,oNAAW,EAAC,CAAC;QAC9B,SAAS,CAAA,OAAQ,CAAC;gBAChB,GAAG,IAAI;gBACP,aAAa;gBACb,YAAY;YACd,CAAC;IACH,GAAG,EAAE;IAEL,OAAO;QACL,GAAG,KAAK;QACR;QACA;IACF;AACF;AAEA;;CAEC,GACD,MAAM,oBAAoB,IAAI;AAKvB,eAAe,uBACpB,MAAc,EACd,IAAY,EACZ,SAAiB;IAEjB,MAAM,WAAW,GAAG,OAAO,CAAC,EAAE,KAAK,CAAC,EAAE,WAAW;IAEjD,oBAAoB;IACpB,IAAI,kBAAkB,GAAG,CAAC,WAAW;QACnC,OAAO,kBAAkB,GAAG,CAAC;IAC/B;IAEA,iBAAiB;IACjB,MAAM,OAAO,MAAM,IAAA,kKAAgB,EAAC,QAAQ,MAAM;IAElD,WAAW;IACX,kBAAkB,GAAG,CAAC,UAAU;IAEhC,OAAO;AACT;AAKO,SAAS;IACd,kBAAkB,KAAK;AACzB","debugId":null}},
    {"offset": {"line": 3317, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE","debugId":null}},
    {"offset": {"line": 3359, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/ataData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Algorithmic Thinking and its Applications  ATA\n// Listed from /public/notes/ata. For combined sessions we set week/lesson to 0\n// so the UI shows only the title. The id matches the HTML filename (without .html).\nexport const ataNotesData: NoteData[] = [\n  {\n    id: 'ATAW2',\n    title: 'Week 2: Algorithmic Thinking Basics',\n    description: 'Foundations and first principles of algorithmic thinking.',\n    week: 2,\n    lesson: 0,\n    tags: ['ATA', 'Foundations'],\n    dateAdded: '2025-01-02',\n    readTime: '18 min',\n    htmlFile: '/notes/ata/ATAW2.html'\n  },\n  {\n    id: 'ATAW3',\n    title: 'Week 3: Control Flow and Tracing',\n    description: 'Understanding program control flow and tracing execution.',\n    week: 3,\n    lesson: 0,\n    tags: ['Control Flow'],\n    dateAdded: '2025-01-03',\n    readTime: '22 min',\n    htmlFile: '/notes/ata/ATAW3.html'\n  },\n  {\n    id: 'ATAW4',\n    title: 'Week 4: Data Types and Operations',\n    description: 'Working with data types and composing operations.',\n    week: 4,\n    lesson: 0,\n    tags: ['Data Types'],\n    dateAdded: '2025-01-04',\n    readTime: '24 min',\n    htmlFile: '/notes/ata/ATAW4.html'\n  },\n  {\n    id: 'ATAW5L1&W6L1',\n    title: 'Week 5 L1 & Week 6 L1: Functions and Composition',\n    description: 'Encapsulation with functions and composing operations.',\n    week: 0,\n    lesson: 0,\n    tags: ['Functions'],\n    dateAdded: '2025-01-05',\n    readTime: '28 min',\n    htmlFile: '/notes/ata/ATAW5L1&W6L1.html'\n  },\n  {\n    id: 'ATAW5L2&W5L3',\n    title: 'Week 5 L2 & L3: Problem Decomposition',\n    description: 'Breaking problems into smaller pieces and patterns.',\n    week: 5,\n    lesson: 2,\n    tags: ['Decomposition'],\n    dateAdded: '2025-01-06',\n    readTime: '26 min',\n    htmlFile: '/notes/ata/ATAW5L2&W5L3.html'\n  },\n  {\n    id: 'ATAW6L2',\n    title: 'Week 6 - Lecture 2: More on Functions',\n    description: 'Local scope, return values, and modularity.',\n    week: 6,\n    lesson: 2,\n    tags: ['Functions', 'Scope'],\n    dateAdded: '2025-01-07',\n    readTime: '20 min',\n    htmlFile: '/notes/ata/ATAW6L2.html'\n  },\n  {\n    id: 'ATAW7L1',\n    title: 'Week 7 - Lecture 1: Functions and Modules in Python',\n    description: 'Using built-ins, modules, and creating your own.',\n    week: 7,\n    lesson: 1,\n    tags: ['Python', 'Modules'],\n    dateAdded: '2025-01-08',\n    readTime: '35 min',\n    htmlFile: '/notes/ata/ATAW7L1.html'\n  },\n  {\n    id: 'ATAW7L2',\n    title: 'Week 7 - Lecture 2: Advanced Functions',\n    description: 'Nested functions and program control.',\n    week: 7,\n    lesson: 2,\n    tags: ['Functions'],\n    dateAdded: '2025-01-09',\n    readTime: '18 min',\n    htmlFile: '/notes/ata/ATAW7L2.html'\n  },\n  {\n    id: 'ATAW8L1',\n    title: 'Week 8 - Lecture 1: Making and Using Modules',\n    description: 'Creating modules and understanding program flow.',\n    week: 8,\n    lesson: 1,\n    tags: ['Modules'],\n    dateAdded: '2025-01-10',\n    readTime: '20 min',\n    htmlFile: '/notes/ata/ATAW8L1.html'\n  },\n  {\n    id: 'ATAW8L2',\n    title: 'Week 8 - Lecture 2: Nested Functions and Scope',\n    description: 'Scopes, frames, and nested functions.',\n    week: 8,\n    lesson: 2,\n    tags: ['Scope'],\n    dateAdded: '2025-01-11',\n    readTime: '19 min',\n    htmlFile: '/notes/ata/ATAW8L2.html'\n  },\n  {\n    id: 'ATAW9L1',\n    title: 'Week 9 - Lecture 1: Program Control and Flow',\n    description: 'Tracing execution and mental models.',\n    week: 9,\n    lesson: 1,\n    tags: ['Control Flow'],\n    dateAdded: '2025-01-12',\n    readTime: '16 min',\n    htmlFile: '/notes/ata/ATAW9L1.html'\n  },\n  {\n    id: 'ATAW9L2&W10L1',\n    title: 'Week 9 L2 & Week 10 L1: Problem Solving Patterns',\n    description: 'Combining techniques and patterns.',\n    week: 0,\n    lesson: 0,\n    tags: ['Patterns'],\n    dateAdded: '2025-01-13',\n    readTime: '25 min',\n    htmlFile: '/notes/ata/ATAW9L2&W10L1.html'\n  },\n  {\n    id: 'ATAW10L2,W11L1&W11L2',\n    title: 'Week 10 L2, Week 11 L1 & L2: Applications Roundup',\n    description: 'Applications and extended examples.',\n    week: 0,\n    lesson: 0,\n    tags: ['Applications'],\n    dateAdded: '2025-01-14',\n    readTime: '30 min',\n    htmlFile: '/notes/ata/ATAW10L2,W11L1&W11L2.html'\n  },\n  {\n    id: 'ATAW12L1',\n    title: 'Week 12 - Lecture 1: Review and Practice',\n    description: 'Key concepts and exercises.',\n    week: 12,\n    lesson: 1,\n    tags: ['Review'],\n    dateAdded: '2025-01-15',\n    readTime: '14 min',\n    htmlFile: '/notes/ata/ATAW12L1.html'\n  },\n  {\n    id: 'ATAW12L2',\n    title: 'Week 12 - Lecture 2: Deeper Dive',\n    description: 'More examples and patterns.',\n    week: 12,\n    lesson: 2,\n    tags: ['Patterns'],\n    dateAdded: '2025-01-16',\n    readTime: '17 min',\n    htmlFile: '/notes/ata/ATAW12L2.html'\n  },\n  {\n    id: 'ATAW13L1',\n    title: 'Week 13 - Lecture 1: Capstone Concepts',\n    description: 'Bringing it all together.',\n    week: 13,\n    lesson: 1,\n    tags: ['Capstone'],\n    dateAdded: '2025-01-17',\n    readTime: '18 min',\n    htmlFile: '/notes/ata/ATAW13L1.html'\n  },\n  {\n    id: 'ATAW13L2',\n    title: 'Week 13 - Lecture 2: Final Applications',\n    description: 'End-to-end problem solving.',\n    week: 13,\n    lesson: 2,\n    tags: ['Applications'],\n    dateAdded: '2025-01-18',\n    readTime: '18 min',\n    htmlFile: '/notes/ata/ATAW13L2.html'\n  }\n];\n"],"names":[],"mappings":";;;;AAKO,MAAM,eAA2B;IACtC;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;YAAO;SAAc;QAC5B,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAe;QACtB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAa;QACpB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAY;QACnB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAgB;QACvB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;YAAa;SAAQ;QAC5B,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;YAAU;SAAU;QAC3B,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAY;QACnB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAU;QACjB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAQ;QACf,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAe;QACtB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAW;QAClB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAe;QACtB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAS;QAChB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAW;QAClB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAW;QAClB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;IACA;QACE,IAAI;QACJ,OAAO;QACP,aAAa;QACb,MAAM;QACN,QAAQ;QACR,MAAM;YAAC;SAAe;QACtB,WAAW;QACX,UAAU;QACV,UAAU;IACZ;CACD","debugId":null}},
    {"offset": {"line": 3593, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/bdaData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Basics of Data Analytics (BDA)  mapped from /public/notes/bda\nexport const bdaNotesData: NoteData[] = [\n  { id: 'BDAW3L1', title: 'Week 3 - Lecture 1', description: 'See lecture notes.', week: 3, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-03', readTime: '15 min', htmlFile: '/notes/bda/BDAW3L1.html' },\n  { id: 'BDAW3L2', title: 'Week 3 - Lecture 2', description: 'See lecture notes.', week: 3, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-03', readTime: '15 min', htmlFile: '/notes/bda/BDAW3L2.html' },\n  { id: 'BDAW3L3', title: 'Week 3 - Lecture 3', description: 'See lecture notes.', week: 3, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-03', readTime: '15 min', htmlFile: '/notes/bda/BDAW3L3.html' },\n  { id: 'BDAW3L4', title: 'Week 3 - Lecture 4', description: 'See lecture notes.', week: 3, lesson: 4, tags: ['BDA'], dateAdded: '2025-01-03', readTime: '15 min', htmlFile: '/notes/bda/BDAW3L4.html' },\n  { id: 'BDAW4L1', title: 'Week 4 - Lecture 1', description: 'See lecture notes.', week: 4, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-04', readTime: '15 min', htmlFile: '/notes/bda/BDAW4L1.html' },\n  { id: 'BDAW4L2', title: 'Week 4 - Lecture 2', description: 'See lecture notes.', week: 4, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-04', readTime: '15 min', htmlFile: '/notes/bda/BDAW4L2.html' },\n  { id: 'BDAW4L3', title: 'Week 4 - Lecture 3', description: 'See lecture notes.', week: 4, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-04', readTime: '15 min', htmlFile: '/notes/bda/BDAW4L3.html' },\n  { id: 'BDAW5L1', title: 'Week 5 - Lecture 1', description: 'See lecture notes.', week: 5, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-05', readTime: '15 min', htmlFile: '/notes/bda/BDAW5L1.html' },\n  { id: 'BDAW5L2', title: 'Week 5 - Lecture 2', description: 'See lecture notes.', week: 5, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-05', readTime: '15 min', htmlFile: '/notes/bda/BDAW5L2.html' },\n  { id: 'BDAW6L1', title: 'Week 6 - Lecture 1', description: 'See lecture notes.', week: 6, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-06', readTime: '15 min', htmlFile: '/notes/bda/BDAW6L1.html' },\n  { id: 'BDAW8L1', title: 'Week 8 - Lecture 1', description: 'See lecture notes.', week: 8, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-08', readTime: '15 min', htmlFile: '/notes/bda/BDAW8L1.html' },\n  { id: 'BDAW8l2', title: 'Week 8 - Lecture 2', description: 'See lecture notes.', week: 8, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-08', readTime: '15 min', htmlFile: '/notes/bda/BDAW8l2.html' },\n  { id: 'BDAW8L3', title: 'Week 8 - Lecture 3', description: 'See lecture notes.', week: 8, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-08', readTime: '15 min', htmlFile: '/notes/bda/BDAW8L3.html' },\n  { id: 'BDAW9L1', title: 'Week 9 - Lecture 1', description: 'See lecture notes.', week: 9, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-09', readTime: '15 min', htmlFile: '/notes/bda/BDAW9L1.html' },\n  { id: 'BDAW9L2', title: 'Week 9 - Lecture 2', description: 'See lecture notes.', week: 9, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-09', readTime: '15 min', htmlFile: '/notes/bda/BDAW9L2.html' },\n  { id: 'BDAW9L3', title: 'Week 9 - Lecture 3', description: 'See lecture notes.', week: 9, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-09', readTime: '15 min', htmlFile: '/notes/bda/BDAW9L3.html' },\n  { id: 'BDAW10L1', title: 'Week 10 - Lecture 1', description: 'See lecture notes.', week: 10, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-10', readTime: '15 min', htmlFile: '/notes/bda/BDAW10L1.html' },\n  { id: 'BDAW10L2', title: 'Week 10 - Lecture 2', description: 'See lecture notes.', week: 10, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-10', readTime: '15 min', htmlFile: '/notes/bda/BDAW10L2.html' },\n  { id: 'BDAW10L3', title: 'Week 10 - Lecture 3', description: 'See lecture notes.', week: 10, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-10', readTime: '15 min', htmlFile: '/notes/bda/BDAW10L3.html' },\n  { id: 'BDAW11L1', title: 'Week 11 - Lecture 1', description: 'See lecture notes.', week: 11, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-11', readTime: '15 min', htmlFile: '/notes/bda/BDAW11L1.html' },\n  { id: 'BDAW11L2', title: 'Week 11 - Lecture 2', description: 'See lecture notes.', week: 11, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-11', readTime: '15 min', htmlFile: '/notes/bda/BDAW11L2.html' },\n  { id: 'BDAW11L3', title: 'Week 11 - Lecture 3', description: 'See lecture notes.', week: 11, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-11', readTime: '15 min', htmlFile: '/notes/bda/BDAW11L3.html' },\n  { id: 'BDAW12L1', title: 'Week 12 - Lecture 1', description: 'See lecture notes.', week: 12, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-12', readTime: '15 min', htmlFile: '/notes/bda/BDAW12L1.html' },\n  { id: 'BDAW13L1', title: 'Week 13 - Lecture 1', description: 'See lecture notes.', week: 13, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-13', readTime: '15 min', htmlFile: '/notes/bda/BDAW13L1.html' },\n  { id: 'BDAW13L2', title: 'Week 13 - Lecture 2', description: 'See lecture notes.', week: 13, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-13', readTime: '15 min', htmlFile: '/notes/bda/BDAW13L2.html' },\n  { id: 'BDAW14L1', title: 'Week 14 - Lecture 1', description: 'See lecture notes.', week: 14, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-14', readTime: '15 min', htmlFile: '/notes/bda/BDAW14L1.html' },\n  { id: 'BDAW14L2', title: 'Week 14 - Lecture 2 (empty)', description: 'File exists but appears empty.', week: 14, lesson: 2, tags: ['BDA'], dateAdded: '2025-01-14', readTime: '0 min', htmlFile: '/notes/bda/BDAW14L2.html' },\n  { id: 'BDAW14L3', title: 'Week 14 - Lecture 3 (empty)', description: 'File exists but appears empty.', week: 14, lesson: 3, tags: ['BDA'], dateAdded: '2025-01-14', readTime: '0 min', htmlFile: '/notes/bda/BDAW14L3.html' },\n  { id: 'BDAW15L1', title: 'Week 15 - Lecture 1', description: 'See lecture notes.', week: 15, lesson: 1, tags: ['BDA'], dateAdded: '2025-01-15', readTime: '15 min', htmlFile: '/notes/bda/BDAW15L1.html' },\n];\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3980, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/fspData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Foundations of Statistics and Probability (FSP)\nexport const fspNotesData: NoteData[] = [\n  { id: 'FSPW1L1', title: 'Week 1 - Lecture 1', description: 'See lecture notes.', week: 1, lesson: 1, tags: ['FSP'], dateAdded: '2025-01-01', readTime: '12 min', htmlFile: '/notes/fsp/FSPW1L1.html' },\n  { id: 'FSPW2', title: 'Week 2', description: 'See lecture notes.', week: 2, lesson: 0, tags: ['FSP'], dateAdded: '2025-01-02', readTime: '14 min', htmlFile: '/notes/fsp/FSPW2.html' },\n  { id: 'FSPW3', title: 'Week 3', description: 'See lecture notes.', week: 3, lesson: 0, tags: ['FSP'], dateAdded: '2025-01-03', readTime: '16 min', htmlFile: '/notes/fsp/FSPW3.html' },\n  { id: 'FSPW4', title: 'Week 4', description: 'See lecture notes.', week: 4, lesson: 0, tags: ['FSP'], dateAdded: '2025-01-04', readTime: '18 min', htmlFile: '/notes/fsp/FSPW4.html' },\n  { id: 'FSPW5', title: 'Week 5', description: 'See lecture notes.', week: 5, lesson: 0, tags: ['FSP'], dateAdded: '2025-01-05', readTime: '20 min', htmlFile: '/notes/fsp/FSPW5.html' },\n];\n"],"names":[],"mappings":";;;;AAGO,MAAM,eAA2B;IACtC;QAAE,IAAI;QAAW,OAAO;QAAsB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IACrM;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;CACtL","debugId":null}},
    {"offset": {"line": 4055, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/lanaData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Linear Algebra and Numeical Analysis (LANA)\nexport const lanaNotesData: NoteData[] = [\n  { id: 'LANAW2L1&W2L2', title: 'Week 2 - L1 & L2', description: 'Combined lectures.', week: 2, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-02', readTime: '18 min', htmlFile: '/notes/lana/LANAW2L1&W2L2.html' },\n  { id: 'LANAW3L1_LANAW3L2_LANAW3L3&LANAW3L4', title: 'Week 3 - L1 to L4 (combined)', description: 'Combined lectures.', week: 3, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-03', readTime: '24 min', htmlFile: '/notes/lana/LANAW3L1_LANAW3L2_LANAW3L3&LANAW3L4.html' },\n  { id: 'LANAW4L1&LANAW4L2', title: 'Week 4 - L1 & L2', description: 'Combined lectures.', week: 4, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-04', readTime: '18 min', htmlFile: '/notes/lana/LANAW4L1&LANAW4L2.html' },\n  { id: 'LANAW5', title: 'Week 5', description: 'See lecture notes.', week: 5, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-05', readTime: '18 min', htmlFile: '/notes/lana/LANAW5.html' },\n  { id: 'LANAW5L1', title: 'Week 5 - L1', description: 'See lecture notes.', week: 5, lesson: 1, tags: ['LANA'], dateAdded: '2025-01-05', readTime: '15 min', htmlFile: '/notes/lana/LANAW5L1.html' },\n  { id: 'LANAW5L2', title: 'Week 5 - L2', description: 'See lecture notes.', week: 5, lesson: 2, tags: ['LANA'], dateAdded: '2025-01-05', readTime: '15 min', htmlFile: '/notes/lana/LANAW5L2.html' },\n  { id: 'LANAW6&W7', title: 'Week 6 & Week 7 (combined)', description: 'Combined lectures.', week: 6, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-06', readTime: '22 min', htmlFile: '/notes/lana/LANAW6&W7.html' },\n  { id: 'LANAW8', title: 'Week 8', description: 'See lecture notes.', week: 8, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-08', readTime: '18 min', htmlFile: '/notes/lana/LANAW8.html' },\n  { id: 'LANAW9', title: 'Week 9', description: 'See lecture notes.', week: 9, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-09', readTime: '18 min', htmlFile: '/notes/lana/LANAW9.html' },\n  { id: 'LANAW10', title: 'Week 10', description: 'See lecture notes.', week: 10, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-10', readTime: '18 min', htmlFile: '/notes/lana/LANAW10.html' },\n  { id: 'LANAW11', title: 'Week 11', description: 'See lecture notes.', week: 11, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-11', readTime: '18 min', htmlFile: '/notes/lana/LANAW11.html' },\n  { id: 'LANAW12&W13', title: 'Week 12 & Week 13 (combined)', description: 'Combined lectures.', week: 12, lesson: 0, tags: ['LANA'], dateAdded: '2025-01-12', readTime: '24 min', htmlFile: '/notes/lana/LANAW12&W13.html' },\n];\n"],"names":[],"mappings":";;;;AAGO,MAAM,gBAA4B;IACvC;QAAE,IAAI;QAAiB,OAAO;QAAoB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAiC;IACjN;QAAE,IAAI;QAAuC,OAAO;QAAgC,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAuD;IACzQ;QAAE,IAAI;QAAqB,OAAO;QAAoB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAqC;IACzN;QAAE,IAAI;QAAU,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IACzL;QAAE,IAAI;QAAY,OAAO;QAAe,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA4B;IAClM;QAAE,IAAI;QAAY,OAAO;QAAe,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA4B;IAClM;QAAE,IAAI;QAAa,OAAO;QAA8B,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA6B;IACnN;QAAE,IAAI;QAAU,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IACzL;QAAE,IAAI;QAAU,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IACzL;QAAE,IAAI;QAAW,OAAO;QAAW,aAAa;QAAsB,MAAM;QAAI,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA2B;IAC7L;QAAE,IAAI;QAAW,OAAO;QAAW,aAAa;QAAsB,MAAM;QAAI,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA2B;IAC7L;QAAE,IAAI;QAAe,OAAO;QAAgC,aAAa;QAAsB,MAAM;QAAI,QAAQ;QAAG,MAAM;YAAC;SAAO;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA+B;CAC3N","debugId":null}},
    {"offset": {"line": 4221, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/noData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Numerical Optimization (NO)  mapped from /public/notes/no\nexport const noNotesData: NoteData[] = [\n  { id: 'NOW1L1', title: 'Week 1 - Lecture 1', description: 'See lecture notes.', week: 1, lesson: 1, tags: ['NO'], dateAdded: '2025-01-01', readTime: '18 min', htmlFile: '/notes/no/NOW1L1.html' },\n  { id: 'NOW1L2', title: 'Week 1 - Lecture 2', description: 'See lecture notes.', week: 1, lesson: 2, tags: ['NO'], dateAdded: '2025-01-01', readTime: '18 min', htmlFile: '/notes/no/NOW1L2.html' },\n  { id: 'NOW2', title: 'Week 2', description: 'See lecture notes.', week: 2, lesson: 0, tags: ['NO'], dateAdded: '2025-01-02', readTime: '18 min', htmlFile: '/notes/no/NOW2.html' },\n  { id: 'NOW3', title: 'Week 3', description: 'See lecture notes.', week: 3, lesson: 0, tags: ['NO'], dateAdded: '2025-01-03', readTime: '18 min', htmlFile: '/notes/no/NOW3.html' },\n  { id: 'NOW4', title: 'Week 4', description: 'See lecture notes.', week: 4, lesson: 0, tags: ['NO'], dateAdded: '2025-01-04', readTime: '18 min', htmlFile: '/notes/no/NOW4.html' },\n  { id: 'NOW5L1&W5L2', title: 'Week 5 - L1 & L2', description: 'Combined lectures.', week: 5, lesson: 0, tags: ['NO'], dateAdded: '2025-01-05', readTime: '22 min', htmlFile: '/notes/no/NOW5L1&W5L2.html' },\n  { id: 'NOW5L3&W5L4', title: 'Week 5 - L3 & L4', description: 'Combined lectures.', week: 5, lesson: 0, tags: ['NO'], dateAdded: '2025-01-05', readTime: '22 min', htmlFile: '/notes/no/NOW5L3&W5L4.html' },\n  { id: 'NOW6', title: 'Week 6', description: 'See lecture notes.', week: 6, lesson: 0, tags: ['NO'], dateAdded: '2025-01-06', readTime: '18 min', htmlFile: '/notes/no/NOW6.html' },\n  { id: 'NOW7', title: 'Week 7', description: 'See lecture notes.', week: 7, lesson: 0, tags: ['NO'], dateAdded: '2025-01-07', readTime: '18 min', htmlFile: '/notes/no/NOW7.html' },\n];\n"],"names":[],"mappings":";;;;AAGO,MAAM,cAA0B;IACrC;QAAE,IAAI;QAAU,OAAO;QAAsB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACjM;QAAE,IAAI;QAAU,OAAO;QAAsB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACjM;QAAE,IAAI;QAAQ,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAsB;IACjL;QAAE,IAAI;QAAQ,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAsB;IACjL;QAAE,IAAI;QAAQ,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAsB;IACjL;QAAE,IAAI;QAAe,OAAO;QAAoB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA6B;IACzM;QAAE,IAAI;QAAe,OAAO;QAAoB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA6B;IACzM;QAAE,IAAI;QAAQ,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAsB;IACjL;QAAE,IAAI;QAAQ,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAK;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAsB;CAClL","debugId":null}},
    {"offset": {"line": 4348, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/prpData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Pattern Recognition Principles (PRP)  mapped from /public/notes/prp\nexport const prpNotesData: NoteData[] = [\n  { id: 'PRPW1', title: 'Week 1', description: 'See lecture notes.', week: 1, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-01', readTime: '16 min', htmlFile: '/notes/prp/PRPW1.html' },\n  { id: 'PRPW2', title: 'Week 2', description: 'See lecture notes.', week: 2, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-02', readTime: '16 min', htmlFile: '/notes/prp/PRPW2.html' },\n  { id: 'PRPW3', title: 'Week 3', description: 'See lecture notes.', week: 3, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-03', readTime: '16 min', htmlFile: '/notes/prp/PRPW3.html' },\n  { id: 'PRPW3(1)', title: 'Week 3 (Part 2)', description: 'Supplementary lecture.', week: 3, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-03', readTime: '12 min', htmlFile: '/notes/prp/PRPW3(1).html' },\n  { id: 'PRPW4', title: 'Week 4', description: 'See lecture notes.', week: 4, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-04', readTime: '18 min', htmlFile: '/notes/prp/PRPW4.html' },\n  { id: 'PRPW5L1', title: 'Week 5 - L1', description: 'See lecture notes.', week: 5, lesson: 1, tags: ['PRP'], dateAdded: '2025-01-05', readTime: '12 min', htmlFile: '/notes/prp/PRPW5L1.html' },\n  { id: 'PRPW5L2&W5L3', title: 'Week 5 - L2 & L3', description: 'Combined lectures.', week: 5, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-05', readTime: '20 min', htmlFile: '/notes/prp/PRPW5L2&W5L3.html' },\n  { id: 'PRPW6', title: 'Week 6', description: 'See lecture notes.', week: 6, lesson: 0, tags: ['PRP'], dateAdded: '2025-01-06', readTime: '18 min', htmlFile: '/notes/prp/PRPW6.html' },\n];\n"],"names":[],"mappings":";;;;AAGO,MAAM,eAA2B;IACtC;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAY,OAAO;QAAmB,aAAa;QAA0B,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA2B;IACxM;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAW,OAAO;QAAe,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IAC9L;QAAE,IAAI;QAAgB,OAAO;QAAoB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA+B;IAC7M;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;CACtL","debugId":null}},
    {"offset": {"line": 4462, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/vsdData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Visualization and Storytelling with Data (VSD)\nexport const vsdNotesData: NoteData[] = [\n  { id: 'VSDW1', title: 'Week 1', description: 'See lecture notes.', week: 1, lesson: 0, tags: ['VSD'], dateAdded: '2025-01-01', readTime: '14 min', htmlFile: '/notes/vsd/VSDW1.html' },\n  { id: 'VSDW3', title: 'Week 3', description: 'See lecture notes.', week: 3, lesson: 0, tags: ['VSD'], dateAdded: '2025-01-03', readTime: '16 min', htmlFile: '/notes/vsd/VSDW3.html' },\n];\n"],"names":[],"mappings":";;;;AAGO,MAAM,eAA2B;IACtC;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;CACtL","debugId":null}},
    {"offset": {"line": 4498, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/data/notes/faiData.ts"],"sourcesContent":["import { NoteData } from '@/types/notes';\n\n// Foundations of AI (FAI)  mapped from /public/notes/fai\nexport const faiNotesData: NoteData[] = [\n  { id: 'FAIW1', title: 'Week 1', description: 'See lecture notes.', week: 1, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-01', readTime: '16 min', htmlFile: '/notes/fai/FAIW1.html' },\n  { id: 'FAIW2', title: 'Week 2', description: 'See lecture notes.', week: 2, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-02', readTime: '16 min', htmlFile: '/notes/fai/FAIW2.html' },\n  { id: 'FAIW3', title: 'Week 3', description: 'See lecture notes.', week: 3, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-03', readTime: '16 min', htmlFile: '/notes/fai/FAIW3.html' },\n  { id: 'FAIW4L1&W4L2', title: 'Week 4 - L1 & L2', description: 'Combined lectures.', week: 4, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-04', readTime: '18 min', htmlFile: '/notes/fai/FAIW4L1&W4L2.html' },\n  { id: 'FAIW4L3', title: 'Week 4 - L3', description: 'See lecture notes.', week: 4, lesson: 3, tags: ['FAI'], dateAdded: '2025-01-04', readTime: '12 min', htmlFile: '/notes/fai/FAIW4L3.html' },\n  { id: 'FAIW5L1', title: 'Week 5 - L1', description: 'See lecture notes.', week: 5, lesson: 1, tags: ['FAI'], dateAdded: '2025-01-05', readTime: '12 min', htmlFile: '/notes/fai/FAIW5L1.html' },\n  { id: 'FAIW5L2', title: 'Week 5 - L2', description: 'See lecture notes.', week: 5, lesson: 2, tags: ['FAI'], dateAdded: '2025-01-05', readTime: '12 min', htmlFile: '/notes/fai/FAIW5L2.html' },\n  { id: 'FAIW6', title: 'Week 6', description: 'See lecture notes.', week: 6, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-06', readTime: '16 min', htmlFile: '/notes/fai/FAIW6.html' },\n  { id: 'FAIW7', title: 'Week 7', description: 'See lecture notes.', week: 7, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-07', readTime: '16 min', htmlFile: '/notes/fai/FAIW7.html' },\n  { id: 'FAIW8', title: 'Week 8', description: 'See lecture notes.', week: 8, lesson: 0, tags: ['FAI'], dateAdded: '2025-01-08', readTime: '16 min', htmlFile: '/notes/fai/FAIW8.html' },\n];\n"],"names":[],"mappings":";;;;AAGO,MAAM,eAA2B;IACtC;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAgB,OAAO;QAAoB,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA+B;IAC7M;QAAE,IAAI;QAAW,OAAO;QAAe,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IAC9L;QAAE,IAAI;QAAW,OAAO;QAAe,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IAC9L;QAAE,IAAI;QAAW,OAAO;QAAe,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAA0B;IAC9L;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;IACrL;QAAE,IAAI;QAAS,OAAO;QAAU,aAAa;QAAsB,MAAM;QAAG,QAAQ;QAAG,MAAM;YAAC;SAAM;QAAE,WAAW;QAAc,UAAU;QAAU,UAAU;IAAwB;CACtL","debugId":null}},
    {"offset": {"line": 4638, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,kBAAkB,+KAAyB;AAEjD,MAAM,UAAU,2KAAqB;AAErC,MAAM,iBAAiB,8KAAwB;AAE/C,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC1C,8OAAC,8KAAwB;QACvB,KAAK;QACL,YAAY;QACZ,WAAW,IAAA,yHAAE,EACX,sYACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4676, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/components/dashboard/note-preview-layout.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { useUser, useAuth } from '@/firebase';\nimport { signOut } from 'firebase/auth';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Button } from '../ui/button';\nimport Link from 'next/link';\nimport { ArrowLeft, Printer, Download, ChevronLeft, ChevronRight, Star, RotateCcw, Maximize2, Minimize2, MoreVertical, Share2 } from 'lucide-react';\nimport { notFound } from 'next/navigation';\nimport AssistantSidebarNew from './assistant-sidebar-new';\nimport { useToast } from '@/hooks/use-toast';\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from '../ui/alert-dialog';\nimport { AuthGuard } from '@/components/auth/auth-guard';\nimport { useNotePreview } from '@/hooks/use-note-preview';\nimport { saveModifiedHtml, deleteModifiedHtml } from '@/services/firebase/html-storage';\nimport { Badge } from '../ui/badge';\nimport { ataNotesData } from '@/data/notes/ataData';\nimport { bdaNotesData } from '@/data/notes/bdaData';\nimport { fspNotesData } from '@/data/notes/fspData';\nimport { lanaNotesData } from '@/data/notes/lanaData';\nimport { noNotesData } from '@/data/notes/noData';\nimport { prpNotesData } from '@/data/notes/prpData';\nimport { vsdNotesData } from '@/data/notes/vsdData';\nimport { faiNotesData } from '@/data/notes/faiData';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';\n\n\ntype Note = {\n  id: string;\n  title: string;\n  description: string;\n  week: number;\n  lesson: number;\n  tags: string[];\n  dateAdded: string;\n  readTime: string;\n  htmlFile: string;\n} | undefined;\n\ntype NotePreviewLayoutProps = {\n  courseName: string;\n  courseTitle: string;\n  note: Note;\n  coursePath: string;\n};\n\nexport default function NotePreviewLayout({ courseName, courseTitle, note, coursePath }: NotePreviewLayoutProps) {\n  const { user, isUserLoading } = useUser();\n  const auth = useAuth();\n  const { toast } = useToast();\n  const firstName = user?.displayName?.split(' ')[0] || 'Student';\n\n  const [isAssistantOpen, setIsAssistantOpen] = React.useState(false);\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [isFullscreen, setIsFullscreen] = React.useState(false);\n  const previewContainerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const handler = () => setIsFullscreen(!!document.fullscreenElement);\n    document.addEventListener('fullscreenchange', handler);\n    return () => document.removeEventListener('fullscreenchange', handler);\n  }, []);\n\n  // Extract course identifier from coursePath (e.g., '/dashboard/fsp' -> 'fsp')\n  const courseId = coursePath.split('/').pop() || '';\n  const weekId = `week${note?.week || 1}`;\n  const lectureId = note?.id || '';\n\n  // Determine previous/next notes for navigation\n  const courseNotesMap: Record<string, { id: string }[]> = {\n    ata: ataNotesData,\n    bda: bdaNotesData,\n    fsp: fspNotesData,\n    lana: lanaNotesData,\n    no: noNotesData,\n    prp: prpNotesData,\n    vsd: vsdNotesData,\n    fai: faiNotesData,\n  };\n  const notesArray = courseNotesMap[courseId] || [];\n  const currentIdx = notesArray.findIndex((n) => n.id === note?.id);\n  const prevNote = currentIdx > 0 ? notesArray[currentIdx - 1] : undefined;\n  const nextNote = currentIdx >= 0 && currentIdx < notesArray.length - 1 ? notesArray[currentIdx + 1] : undefined;\n\n  // Use the new cascading load logic hook - wait for auth to complete\n  const { htmlContent, isModified, loading, error, reload, updateHtml } = useNotePreview(\n    isUserLoading ? undefined : user?.uid,\n    courseId,\n    weekId,\n    lectureId\n  );\n\n  // Show error toast if loading failed\n  React.useEffect(() => {\n    if (error) {\n      toast({ variant: 'destructive', title: 'Error', description: error });\n    }\n  }, [error, toast]);\n\n  if (!note) {\n    notFound();\n  }\n\n  const handleAssistantClick = () => {\n    setIsAssistantOpen(true);\n  };\n\n  const handleToggleFullscreen = () => {\n    const el = previewContainerRef.current;\n    if (!el) return;\n    if (document.fullscreenElement) {\n      if (document.exitFullscreen) document.exitFullscreen();\n    } else {\n      if (el.requestFullscreen) {\n        el.requestFullscreen();\n      } else {\n        (el as any).webkitRequestFullscreen?.();\n        (el as any).msRequestFullscreen?.();\n      }\n    }\n  };\n\n  const buildExportHtml = (html: string) => {\n    if (!html) return '';\n    if (html.includes('<html')) return html;\n    return `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"></head><body>${html}</body></html>`;\n  };\n\n  const handleDownload = () => {\n    const content = buildExportHtml(currentHtmlContent || '');\n    const blob = new Blob([content], { type: 'text/html;charset=utf-8' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${lectureId}${isModified ? '-edited' : ''}.html`;\n    document.body.appendChild(a);\n    a.click();\n    a.remove();\n    URL.revokeObjectURL(url);\n  };\n\n  const handleHtmlUpdate = async (newHtml: string) => {\n    if (!user) return;\n\n    setIsSaving(true);\n    try {\n      updateHtml(newHtml);\n      await saveModifiedHtml(user.uid, weekId, lectureId, newHtml);\n      toast({\n        title: ' Changes saved',\n        description: 'Your modified version has been saved to your account.'\n      });\n    } catch (error) {\n      console.error(\"Failed to save changes:\", error);\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: 'Could not save your changes. Please try again.'\n      });\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleResetToOriginal = async () => {\n    if (!user) return;\n    try {\n      await deleteModifiedHtml(user.uid, weekId, lectureId);\n      await reload();\n      toast({\n        title: 'Reset Complete',\n        description: 'The note has been reset to its original version.'\n      });\n    } catch (error) {\n      console.error(\"Failed to reset note:\", error);\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: 'Could not reset the note.'\n      });\n    }\n  }\n\n  const isLoading = isUserLoading || loading;\n\n  if (isLoading) {\n    return (\n      <AuthGuard>\n        <div className=\"flex h-screen w-full bg-slate-950 items-center justify-center\">\n          <div className=\"flex flex-col items-center gap-4\">\n            <div className=\"w-12 h-12 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin\" />\n            <p className=\"text-purple-300 animate-pulse\">Loading your note...</p>\n          </div>\n        </div>\n      </AuthGuard>\n    );\n  }\n\n  const handlePrint = () => {\n    const printWindow = window.open('', '_blank');\n    if (printWindow && currentHtmlContent) {\n      printWindow.document.write(currentHtmlContent);\n      printWindow.document.close();\n      printWindow.focus();\n      setTimeout(() => {\n        printWindow.print();\n        printWindow.close();\n      }, 250);\n    }\n  };\n\n  const currentHtmlContent = htmlContent;\n\n  return (\n    <AuthGuard>\n      <TooltipProvider>\n        <div className=\"min-h-screen w-full relative bg-slate-950 text-white overflow-hidden selection:bg-purple-500/30 flex flex-col\">\n          {/* Animated Background Blobs */}\n          <div className=\"fixed inset-0 overflow-hidden pointer-events-none z-0\">\n            <div className=\"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-purple-600/10 rounded-full blur-[100px] animate-blob mix-blend-screen\" />\n            <div className=\"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-blue-600/10 rounded-full blur-[120px] animate-blob animation-delay-4000 mix-blend-screen\" />\n          </div>\n\n          {/* Minimalist Header */}\n          <header className=\"fixed top-0 left-0 right-0 z-50 h-16 flex items-center justify-between px-6 bg-slate-950/90 backdrop-blur-md border-b border-white/5\">\n            <div className=\"flex items-center gap-4\">\n              <Button asChild variant=\"ghost\" size=\"sm\" className=\"text-gray-400 hover:text-white hover:bg-white/10 rounded-full\">\n                <Link href={coursePath}>\n                  <ArrowLeft className=\"mr-2 h-4 w-4\" />\n                  Back\n                </Link>\n              </Button>\n              <div className=\"h-4 w-px bg-white/10\" />\n              <div className=\"flex flex-col\">\n                <h1 className=\"text-sm font-semibold text-white leading-none\">{note.title}</h1>\n                <span className=\"text-xs text-gray-400 mt-1\">Week {note.week}  Lesson {note.lesson}</span>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              {isModified ? (\n                <Badge variant=\"secondary\" className=\"text-xs rounded-full bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 px-3 py-0.5\">\n                  Edited\n                </Badge>\n              ) : (\n                <Badge variant=\"outline\" className=\"text-xs rounded-full bg-white/5 text-gray-400 border border-white/10 px-3 py-0.5\">\n                  Original\n                </Badge>\n              )}\n              <div className=\"h-8 w-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 p-[1px]\">\n                <div className=\"h-full w-full rounded-full bg-slate-900 flex items-center justify-center\">\n                  <span className=\"text-xs font-bold text-white\">{firstName[0]}</span>\n                </div>\n              </div>\n            </div>\n          </header>\n\n          {/* Main Content Area - Maximized */}\n          <main className=\"flex-1 relative z-10 flex flex-col items-center justify-center p-0 sm:p-2 pt-20 pb-0\">\n            <div\n              ref={previewContainerRef}\n              className={`w-full bg-white shadow-2xl overflow-hidden transition-all duration-500 ${isFullscreen ? 'fixed inset-0 z-50 h-screen rounded-none' : 'h-[calc(100vh-6rem)] max-w-[98%] sm:rounded-2xl border border-white/10 ring-1 ring-white/20'}`}\n            >\n              <iframe\n                id=\"note-iframe\"\n                srcDoc={buildExportHtml(currentHtmlContent || '')}\n                className=\"w-full h-full border-0\"\n                sandbox=\"allow-scripts allow-same-origin\"\n                title=\"Note Preview\"\n              />\n            </div>\n          </main>\n\n          {/* Floating Dock / Action Bar */}\n          <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 transition-transform duration-300 hover:-translate-y-1\">\n            <div className=\"flex items-center gap-2 p-2 rounded-2xl bg-slate-900/90 backdrop-blur-xl border border-white/10 shadow-2xl shadow-black/50 ring-1 ring-white/5\">\n\n              {/* Navigation Group */}\n              <div className=\"flex items-center gap-1 pr-2 border-r border-white/10\">\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    {prevNote ? (\n                      <Button asChild variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 rounded-xl text-gray-400 hover:text-white hover:bg-white/10\">\n                        <Link href={`/dashboard/${courseId}/${encodeURIComponent(prevNote.id)}`}>\n                          <ChevronLeft className=\"h-5 w-5\" />\n                        </Link>\n                      </Button>\n                    ) : (\n                      <Button variant=\"ghost\" size=\"icon\" disabled className=\"h-10 w-10 rounded-xl text-gray-600\">\n                        <ChevronLeft className=\"h-5 w-5\" />\n                      </Button>\n                    )}\n                  </TooltipTrigger>\n                  <TooltipContent>Previous Lesson</TooltipContent>\n                </Tooltip>\n\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    {nextNote ? (\n                      <Button asChild variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 rounded-xl text-gray-400 hover:text-white hover:bg-white/10\">\n                        <Link href={`/dashboard/${courseId}/${encodeURIComponent(nextNote.id)}`}>\n                          <ChevronRight className=\"h-5 w-5\" />\n                        </Link>\n                      </Button>\n                    ) : (\n                      <Button variant=\"ghost\" size=\"icon\" disabled className=\"h-10 w-10 rounded-xl text-gray-600\">\n                        <ChevronRight className=\"h-5 w-5\" />\n                      </Button>\n                    )}\n                  </TooltipTrigger>\n                  <TooltipContent>Next Lesson</TooltipContent>\n                </Tooltip>\n              </div>\n\n              {/* Tools Group */}\n              <div className=\"flex items-center gap-1 px-2\">\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={handleAssistantClick}\n                      className=\"h-10 w-10 rounded-xl text-purple-400 hover:text-purple-300 hover:bg-purple-500/20\"\n                    >\n                      <Star className=\"h-5 w-5 fill-current\" />\n                    </Button>\n                  </TooltipTrigger>\n                  <TooltipContent>AI Assistant</TooltipContent>\n                </Tooltip>\n\n                {isModified && (\n                  <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                      <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 rounded-xl text-red-400 hover:text-red-300 hover:bg-red-500/20\">\n                        <RotateCcw className=\"h-5 w-5\" />\n                      </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent className=\"bg-slate-900 border border-white/10 text-white\">\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>Reset Changes?</AlertDialogTitle>\n                        <AlertDialogDescription className=\"text-gray-400\">\n                          This will revert the note to its original state. Custom edits will be lost.\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel className=\"bg-white/5 border-white/10 text-white hover:bg-white/10\">Cancel</AlertDialogCancel>\n                        <AlertDialogAction onClick={handleResetToOriginal} className=\"bg-red-600 hover:bg-red-700\">Reset</AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                )}\n\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={handleToggleFullscreen} className=\"h-10 w-10 rounded-xl text-gray-400 hover:text-white hover:bg-white/10\">\n                      {isFullscreen ? <Minimize2 className=\"h-5 w-5\" /> : <Maximize2 className=\"h-5 w-5\" />}\n                    </Button>\n                  </TooltipTrigger>\n                  <TooltipContent>{isFullscreen ? 'Exit Fullscreen' : 'Fullscreen'}</TooltipContent>\n                </Tooltip>\n              </div>\n\n              {/* Export Group */}\n              <div className=\"flex items-center gap-1 pl-2 border-l border-white/10\">\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={handlePrint} className=\"h-10 w-10 rounded-xl text-gray-400 hover:text-white hover:bg-white/10\">\n                      <Printer className=\"h-5 w-5\" />\n                    </Button>\n                  </TooltipTrigger>\n                  <TooltipContent>Print</TooltipContent>\n                </Tooltip>\n\n                <Tooltip>\n                  <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={handleDownload} className=\"h-10 w-10 rounded-xl text-gray-400 hover:text-white hover:bg-white/10\">\n                      <Download className=\"h-5 w-5\" />\n                    </Button>\n                  </TooltipTrigger>\n                  <TooltipContent>Download HTML</TooltipContent>\n                </Tooltip>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n        {currentHtmlContent && (\n          <AssistantSidebarNew\n            isOpen={isAssistantOpen}\n            onClose={() => setIsAssistantOpen(false)}\n            note={note}\n            currentHtmlContent={currentHtmlContent}\n            onHtmlContentUpdate={handleHtmlUpdate}\n          />\n        )}\n      </TooltipProvider>\n    </AuthGuard>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5552, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/personal%20Project/VoyLearning-main/src/app/dashboard/ata/%5BnoteId%5D/page.tsx"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport NotePreviewLayout from '@/components/dashboard/note-preview-layout';\nimport { ataNotesData } from '@/data/notes/ataData';\n\nexport default function AtaNotePage({ params }: { params: Promise<{ noteId: string }> }) {\n  const { noteId } = React.use(params);\n  const decodedId = decodeURIComponent(noteId);\n  const note = ataNotesData.find(n => n.id === decodedId);\n\n  return (\n    <NotePreviewLayout\n      courseName=\"ATA\"\n      courseTitle=\"Advanced Topics in Algorithms\"\n      note={note}\n      coursePath=\"/dashboard/ata\"\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS,YAAY,EAAE,MAAM,EAA2C;IACrF,MAAM,EAAE,MAAM,EAAE,GAAG,4MAAS,CAAC;IAC7B,MAAM,YAAY,mBAAmB;IACrC,MAAM,OAAO,+IAAY,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAE7C,qBACE,8OAAC,uKAAiB;QAChB,YAAW;QACX,aAAY;QACZ,MAAM;QACN,YAAW;;;;;;AAGjB","debugId":null}}]
}